---
title: NuGet CLI 环境变量
description: Nuget.exe 环境变量的引用
author: karann-msft
ms.author: karann
ms.date: 01/18/2018
ms.topic: reference
ms.openlocfilehash: ac1bf2b65ab6ec4e8cf864810181fc661236262a
ms.sourcegitcommit: 6b71926f062ecddb8729ef8567baf67fd269642a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/22/2019
ms.locfileid: "59931977"
---
# <a name="nuget-cli-environment-variables"></a><span data-ttu-id="da8a6-103">NuGet CLI 环境变量</span><span class="sxs-lookup"><span data-stu-id="da8a6-103">NuGet CLI environment variables</span></span>

<span data-ttu-id="da8a6-104">Nuget.exe CLI 的行为可以通过许多环境变量，这会影响计算机范围的用户的 nuget.exe 或处理级别配置。</span><span class="sxs-lookup"><span data-stu-id="da8a6-104">The behavior of the nuget.exe CLI can be configured through a number of environment variables, which affect nuget.exe on computer-wide, user, or process levels.</span></span> <span data-ttu-id="da8a6-105">环境变量始终重写中的任何设置`NuGet.Config`文件，从而使生成服务器，而无需修改任何文件更改相应设置。</span><span class="sxs-lookup"><span data-stu-id="da8a6-105">Environment variables always override any settings in `NuGet.Config` files, allowing build servers to change appropriate settings without modifying any files.</span></span>

<span data-ttu-id="da8a6-106">一般情况下，直接在命令行上或在 NuGet 配置文件中指定的选项具有优先级，但如有少数例外情况之外*FORCE_NUGET_EXE_INTERACTIVE*。</span><span class="sxs-lookup"><span data-stu-id="da8a6-106">In general, options specified directly on the command line or in NuGet configuration files have precedence, but there are a few exceptions such as *FORCE_NUGET_EXE_INTERACTIVE*.</span></span> <span data-ttu-id="da8a6-107">如果您发现该 nuget.exe 以不同的方式不同的计算机之间的行为，环境变量可能是原因。</span><span class="sxs-lookup"><span data-stu-id="da8a6-107">If you find that nuget.exe behaves differently between different computers, an environment variable could be the cause.</span></span> <span data-ttu-id="da8a6-108">例如，具有 （部署过程中使用） 的 Azure Web 应用 Kudu *NUGET_XMLDOC_MODE*设置为*跳过*包还原的性能提高的速度和节省磁盘空间。</span><span class="sxs-lookup"><span data-stu-id="da8a6-108">For example, Azure Web Apps Kudu (used during deployment) has *NUGET_XMLDOC_MODE* set to *skip* to speed up package restore performance and save disk space.</span></span>

<span data-ttu-id="da8a6-109">NuGet CLI 使用 MSBuild 来读取项目文件。</span><span class="sxs-lookup"><span data-stu-id="da8a6-109">The NuGet CLI uses MSBuild to read the project files.</span></span> <span data-ttu-id="da8a6-110">所有环境变量都都可用作[属性](/visualstudio/msbuild/msbuild-command-line-reference)MSBuild 评估期间。</span><span class="sxs-lookup"><span data-stu-id="da8a6-110">All environment variables are available as [properties](/visualstudio/msbuild/msbuild-command-line-reference) during the MSBuild evaluation.</span></span>
<span data-ttu-id="da8a6-111">说明中的属性列表[NuGet 包和作为 MSBuild 目标还原](../reference/msbuild-targets.md#restore-properties)也可设置为环境变量。</span><span class="sxs-lookup"><span data-stu-id="da8a6-111">The list of properties documented in [NuGet pack and restore as MSBuild targets](../reference/msbuild-targets.md#restore-properties) can also be set as environment variables.</span></span>

| <span data-ttu-id="da8a6-112">变量</span><span class="sxs-lookup"><span data-stu-id="da8a6-112">Variable</span></span> | <span data-ttu-id="da8a6-113">描述</span><span class="sxs-lookup"><span data-stu-id="da8a6-113">Description</span></span> | <span data-ttu-id="da8a6-114">备注</span><span class="sxs-lookup"><span data-stu-id="da8a6-114">Remarks</span></span> |
| --- | --- | --- |
| <span data-ttu-id="da8a6-115">http_proxy</span><span class="sxs-lookup"><span data-stu-id="da8a6-115">http_proxy</span></span> | <span data-ttu-id="da8a6-116">用于 NuGet HTTP 操作的 http 代理。</span><span class="sxs-lookup"><span data-stu-id="da8a6-116">Http proxy used for NuGet HTTP operations.</span></span> | <span data-ttu-id="da8a6-117">这会指定为`http://<username>:<password>@proxy.com`。</span><span class="sxs-lookup"><span data-stu-id="da8a6-117">This would be specified as `http://<username>:<password>@proxy.com`.</span></span> |
| <span data-ttu-id="da8a6-118">no_proxy</span><span class="sxs-lookup"><span data-stu-id="da8a6-118">no_proxy</span></span> | <span data-ttu-id="da8a6-119">配置从使用代理服务器绕过的域。</span><span class="sxs-lookup"><span data-stu-id="da8a6-119">Configures domains to bypass from using proxy.</span></span> | <span data-ttu-id="da8a6-120">指定为逗号 （，） 分隔的域。</span><span class="sxs-lookup"><span data-stu-id="da8a6-120">Specified as domains separated by comma (,).</span></span> |
| <span data-ttu-id="da8a6-121">EnableNuGetPackageRestore</span><span class="sxs-lookup"><span data-stu-id="da8a6-121">EnableNuGetPackageRestore</span></span> | <span data-ttu-id="da8a6-122">如果 NuGet 应隐式授予同意的情况下，如果所需在还原包标记的。</span><span class="sxs-lookup"><span data-stu-id="da8a6-122">Flag for if NuGet should implicitly grant consent if that's required by package on restore.</span></span> | <span data-ttu-id="da8a6-123">指定的标志将被视为 *，则返回 true*或*1*，未设置任何其他值视为标志。</span><span class="sxs-lookup"><span data-stu-id="da8a6-123">Specified flag is treated as *true* or *1*, any other value treated as flag not set.</span></span> |
| <span data-ttu-id="da8a6-124">NUGET_EXE_NO_PROMPT</span><span class="sxs-lookup"><span data-stu-id="da8a6-124">NUGET_EXE_NO_PROMPT</span></span> | <span data-ttu-id="da8a6-125">可以防止会提示输入凭据的 exe。</span><span class="sxs-lookup"><span data-stu-id="da8a6-125">Prevents the exe for prompting for credentials.</span></span> | <span data-ttu-id="da8a6-126">除了 null 或空字符串将被视为任何值这样的标记集/true。</span><span class="sxs-lookup"><span data-stu-id="da8a6-126">Any value except null or empty string will be treated as this flag set/true.</span></span> |
| <span data-ttu-id="da8a6-127">FORCE_NUGET_EXE_INTERACTIVE</span><span class="sxs-lookup"><span data-stu-id="da8a6-127">FORCE_NUGET_EXE_INTERACTIVE</span></span> | <span data-ttu-id="da8a6-128">若要强制交互模式下的全局环境变量。</span><span class="sxs-lookup"><span data-stu-id="da8a6-128">Global environment variable to force interactive mode.</span></span> | <span data-ttu-id="da8a6-129">除了 null 或空字符串将被视为任何值这样的标记集/true。</span><span class="sxs-lookup"><span data-stu-id="da8a6-129">Any value except null or empty string will be treated as this flag set/true.</span></span> |
| <span data-ttu-id="da8a6-130">NUGET_PACKAGES</span><span class="sxs-lookup"><span data-stu-id="da8a6-130">NUGET_PACKAGES</span></span> | <span data-ttu-id="da8a6-131">要用于路径*全局包*文件夹中，如所述[管理全局包和缓存文件夹](../consume-packages/managing-the-global-packages-and-cache-folders.md)。</span><span class="sxs-lookup"><span data-stu-id="da8a6-131">Path to use for the *global-packages* folder as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span> | <span data-ttu-id="da8a6-132">指定为绝对路径。</span><span class="sxs-lookup"><span data-stu-id="da8a6-132">Specified as absolute path.</span></span> |
| <span data-ttu-id="da8a6-133">NUGET_FALLBACK_PACKAGES</span><span class="sxs-lookup"><span data-stu-id="da8a6-133">NUGET_FALLBACK_PACKAGES</span></span> | <span data-ttu-id="da8a6-134">回退的全局包文件夹。</span><span class="sxs-lookup"><span data-stu-id="da8a6-134">Global fallback packages folders.</span></span> | <span data-ttu-id="da8a6-135">以分号 （;） 分隔的绝对文件夹路径。</span><span class="sxs-lookup"><span data-stu-id="da8a6-135">Absolute folder paths separated by semicolon (;).</span></span> |
| <span data-ttu-id="da8a6-136">NUGET_HTTP_CACHE_PATH</span><span class="sxs-lookup"><span data-stu-id="da8a6-136">NUGET_HTTP_CACHE_PATH</span></span> | <span data-ttu-id="da8a6-137">要用于路径*http 缓存*文件夹中，如所述[管理全局包和缓存文件夹](../consume-packages/managing-the-global-packages-and-cache-folders.md)。</span><span class="sxs-lookup"><span data-stu-id="da8a6-137">Path to use for the *http-cache* folder as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span> | <span data-ttu-id="da8a6-138">指定为绝对路径。</span><span class="sxs-lookup"><span data-stu-id="da8a6-138">Specified as absolute path.</span></span> |
| <span data-ttu-id="da8a6-139">NUGET_PERSIST_DG</span><span class="sxs-lookup"><span data-stu-id="da8a6-139">NUGET_PERSIST_DG</span></span> | <span data-ttu-id="da8a6-140">标志，用于指示是否应保留 dg 文件 （通过 MSBuild 收集的数据）。</span><span class="sxs-lookup"><span data-stu-id="da8a6-140">Flag indicating if dg files (data collected from MSBuild) should be persisted.</span></span> | <span data-ttu-id="da8a6-141">指定作为 *，则返回 true*或*false* （默认值），如果未设置 NUGET_PERSIST_DG_PATH 将存储到临时目录 （NuGetScratch 文件夹当前环境的临时目录中）。</span><span class="sxs-lookup"><span data-stu-id="da8a6-141">Specified as *true* or *false* (default), if NUGET_PERSIST_DG_PATH not set will be stored to temporary directory (NuGetScratch folder in current environment temp directory).</span></span> |
| <span data-ttu-id="da8a6-142">NUGET_PERSIST_DG_PATH</span><span class="sxs-lookup"><span data-stu-id="da8a6-142">NUGET_PERSIST_DG_PATH</span></span> | <span data-ttu-id="da8a6-143">若要持久保存 dg 文件的路径。</span><span class="sxs-lookup"><span data-stu-id="da8a6-143">Path to persist dg files.</span></span> | <span data-ttu-id="da8a6-144">指定为绝对路径，此选项是时，才使用*NUGET_PERSIST_DG*设置为 true。</span><span class="sxs-lookup"><span data-stu-id="da8a6-144">Specified as absolute path, this option is only used when *NUGET_PERSIST_DG* is set to true.</span></span> |
| <span data-ttu-id="da8a6-145">NUGET_RESTORE_MSBUILD_ARGS</span><span class="sxs-lookup"><span data-stu-id="da8a6-145">NUGET_RESTORE_MSBUILD_ARGS</span></span> | <span data-ttu-id="da8a6-146">设置其他 MSBuild 参数。</span><span class="sxs-lookup"><span data-stu-id="da8a6-146">Sets additional MSBuild arguments.</span></span> | |
| <span data-ttu-id="da8a6-147">NUGET_RESTORE_MSBUILD_VERBOSITY</span><span class="sxs-lookup"><span data-stu-id="da8a6-147">NUGET_RESTORE_MSBUILD_VERBOSITY</span></span> | <span data-ttu-id="da8a6-148">设置 MSBuild 日志详细信息。</span><span class="sxs-lookup"><span data-stu-id="da8a6-148">Sets the MSBuild log verbosity.</span></span> | <span data-ttu-id="da8a6-149">默认值是*安静*("/ v: q")。</span><span class="sxs-lookup"><span data-stu-id="da8a6-149">Default is *quiet* ("/v:q").</span></span> <span data-ttu-id="da8a6-150">可能的值*q [uiet]*， *m [inimal]*， *n [ormal]*， *d [etailed]*，并*diag [nostic]*。</span><span class="sxs-lookup"><span data-stu-id="da8a6-150">Possible values *q[uiet]*, *m[inimal]*, *n[ormal]*, *d[etailed]*, and *diag[nostic]*.</span></span> |
| <span data-ttu-id="da8a6-151">NUGET_SHOW_STACK</span><span class="sxs-lookup"><span data-stu-id="da8a6-151">NUGET_SHOW_STACK</span></span> | <span data-ttu-id="da8a6-152">确定是否应该向用户显示完整的异常 （包括堆栈跟踪）。</span><span class="sxs-lookup"><span data-stu-id="da8a6-152">Determines whether the full exception (including stack trace) should be displayed to the user.</span></span> | <span data-ttu-id="da8a6-153">指定作为 *，则返回 true*或*false* （默认值）。</span><span class="sxs-lookup"><span data-stu-id="da8a6-153">Specified as *true* or *false* (default).</span></span> |
| <span data-ttu-id="da8a6-154">NUGET_XMLDOC_MODE</span><span class="sxs-lookup"><span data-stu-id="da8a6-154">NUGET_XMLDOC_MODE</span></span> | <span data-ttu-id="da8a6-155">确定应如何处理程序集 XML 文档文件解压缩。</span><span class="sxs-lookup"><span data-stu-id="da8a6-155">Determines how assemblies XML documentation file extraction should be handled.</span></span> | <span data-ttu-id="da8a6-156">支持的模式包括*跳过*（不提取 XML 文档文件），请*压缩*（作为 zip 存档中存储 XML 文档文件） 或*none* （默认值，将 XML 文档文件视为常规文件）。</span><span class="sxs-lookup"><span data-stu-id="da8a6-156">Supported modes are *skip* (do not extract XML documentation files), *compress* (store XML doc files as a zip archive) or *none* (default, treat XML doc files as regular files).</span></span> |
| <span data-ttu-id="da8a6-157">NUGET_CERT_REVOCATION_MODE</span><span class="sxs-lookup"><span data-stu-id="da8a6-157">NUGET_CERT_REVOCATION_MODE</span></span> | <span data-ttu-id="da8a6-158">确定用于对包进行签名的证书的吊销状态检查的方式，将已签名的包安装或还原时执行。</span><span class="sxs-lookup"><span data-stu-id="da8a6-158">Determines how the revocation status check of the certificate used to sign a package, is performed when a signed package is installed or restored.</span></span> <span data-ttu-id="da8a6-159">未设置时，默认为`online`。</span><span class="sxs-lookup"><span data-stu-id="da8a6-159">When not set, defaults to `online`.</span></span>| <span data-ttu-id="da8a6-160">可能的值*在线*（默认值），*脱机*。</span><span class="sxs-lookup"><span data-stu-id="da8a6-160">Possible values *online* (default), *offline*.</span></span>  <span data-ttu-id="da8a6-161">与相关[NU3028](../reference/errors-and-warnings/NU3028.md)</span><span class="sxs-lookup"><span data-stu-id="da8a6-161">Related to [NU3028](../reference/errors-and-warnings/NU3028.md)</span></span> |

