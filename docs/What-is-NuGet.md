---
title: "NuGet 及其功能介绍 | Microsoft Docs"
author: kraigb
ms.author: kraigb
manager: ghogen
ms.date: 10/26/2017
ms.topic: hero-article
ms.prod: nuget
ms.technology: 
ms.assetid: c3faf278-4cbf-4733-96f6-9ee9f7203af9
description: "全面介绍 NuGet 及其功能"
keywords: "NuGet 包管理器, 使用, 包创建, 包托管"
ms.reviewer:
- karann-msft
- unniravindranathan
ms.openlocfilehash: 29dcedf33a54e249fe0b6acf588e4aafde28304f
ms.sourcegitcommit: d0ba99bfe019b779b75731bafdca8a37e35ef0d9
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/14/2017
---
# <a name="an-introduction-to-nuget"></a><span data-ttu-id="02b8f-105">NuGet 简介</span><span class="sxs-lookup"><span data-stu-id="02b8f-105">An introduction to NuGet</span></span>

<span data-ttu-id="02b8f-106">适用于任何现代开发平台的基本工具可充当一种机制，通过这种机制，开发人员可以创建、共享和使用有用的代码库。</span><span class="sxs-lookup"><span data-stu-id="02b8f-106">An essential tool for any modern development platform is a mechanism through which developers can create, share, and consume useful libraries of code.</span></span> <span data-ttu-id="02b8f-107">这种库通常称为“包”，因为它们包含编译代码（如 DLL）以及使用这些库的项目中可能需要的其他内容。</span><span class="sxs-lookup"><span data-stu-id="02b8f-107">Such libraries are typically referred to as "packages" because they can contain compiled code (as DLLs) along with other content that might be needed in the projects that consume those libraries.</span></span>

<span data-ttu-id="02b8f-108">对于 .NET，共享代码的机制则为 NuGet，其定义如何创建、托管和使用面向 .NET 的包，并针对每个角色提供适用工具。</span><span class="sxs-lookup"><span data-stu-id="02b8f-108">For .NET, the mechanism for sharing code is **NuGet**, which defines how packages for .NET are created, hosted, and consumed, and provides the tools for each of those roles.</span></span> 

<span data-ttu-id="02b8f-109">简单来说，NuGet 包是具有 `.nupkg` 扩展的单个 ZIP 文件，此扩展包含编译代码 (Dll)、与该代码相关的其他文件以及描述性清单（包含包版本号等信息）。</span><span class="sxs-lookup"><span data-stu-id="02b8f-109">Put simply, a NuGet package is a single ZIP file with the `.nupkg` extension that contains compiled code (DLLs), other files related to that code, and a descriptive manifest that includes information like the package's version number.</span></span> <span data-ttu-id="02b8f-110">库开发人员创建包文件并将其发布到主机。</span><span class="sxs-lookup"><span data-stu-id="02b8f-110">Library developers create package files and publish them to a host.</span></span> <span data-ttu-id="02b8f-111">包使用者接收这些包，将它们添加到项目，然后在项目代码中调用该库的功能。</span><span class="sxs-lookup"><span data-stu-id="02b8f-111">Package consumers receive those packages, add them to their projects, and then call that library's functionality in their project code.</span></span> <span data-ttu-id="02b8f-112">随后，NuGet 自身负责处理所有中间详细信息。</span><span class="sxs-lookup"><span data-stu-id="02b8f-112">NuGet itself then handles all of the intermediate details.</span></span>

## <a name="the-flow-of-packages-between-creators-hosts-and-consumers"></a><span data-ttu-id="02b8f-113">包在创建者、主机和使用者之间的流</span><span class="sxs-lookup"><span data-stu-id="02b8f-113">The flow of packages between creators, hosts, and consumers</span></span>

<span data-ttu-id="02b8f-114">作为主机角色时，NuGet 自身负责在 [nuget.org](https://www.nuget.org) 中维护包含 60,000 多个唯一且公开提供的包的中央存储库。这些包每天供数以百万的 .NET 开发人员使用。</span><span class="sxs-lookup"><span data-stu-id="02b8f-114">In its role as host, NuGet itself maintains the central repository of over 60,000 unique, publicly-available packages at [nuget.org](https://www.nuget.org). These packages are employed by millions of .NET developers every day.</span></span> <span data-ttu-id="02b8f-115">NuGet 还支持在云中、在私有网络中或者甚至直接在本地文件系统以私密方式托管包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-115">NuGet also enables you to host packages privately in the cloud, on a private network, or even on just your local file system.</span></span> <span data-ttu-id="02b8f-116">通过此做法，这些包将仅供特定组织或客户群体中的开发人员使用。</span><span class="sxs-lookup"><span data-stu-id="02b8f-116">By doing so, those packages are available to only those developers within a particular organization or customer group.</span></span> <span data-ttu-id="02b8f-117">[托管自己的 NuGet 源](Hosting-Packages/Overview.md)中提供了对相关选项的说明。</span><span class="sxs-lookup"><span data-stu-id="02b8f-117">The options are explained on [Hosting your own NuGet feeds](Hosting-Packages/Overview.md).</span></span>

<span data-ttu-id="02b8f-118">无论主机的本质是什么，它都可作为包创建者和包使用者之间的连接点。</span><span class="sxs-lookup"><span data-stu-id="02b8f-118">Whatever its nature, a host serves as a point of connection between package *creators* and package *consumers*.</span></span> <span data-ttu-id="02b8f-119">创建者生成有用的 NuGet 包并将其发布到主机。</span><span class="sxs-lookup"><span data-stu-id="02b8f-119">Creators build useful NuGet packages and publish them to a host.</span></span> <span data-ttu-id="02b8f-120">然后，使用者可以在可访问的主机上搜索有用且兼容的包，下载包并将其包含在项目中。</span><span class="sxs-lookup"><span data-stu-id="02b8f-120">Consumers then search for useful and compatible packages on accessible hosts, downloading and including those packages in their projects.</span></span> <span data-ttu-id="02b8f-121">在项目中安装包后，包的 API 将可用于其余项目代码。</span><span class="sxs-lookup"><span data-stu-id="02b8f-121">Once installed in a project, the packages' APIs are available to the rest of the project code.</span></span>

![包创建者、包主机和包使用者之间的关系](media/nuget-roles.png)

<span data-ttu-id="02b8f-123">在此情况下，“兼容”包指：此包所包含的程序集应至少针对与使用项目的目标框架兼容的一个目标 .NET Framework 而生成。</span><span class="sxs-lookup"><span data-stu-id="02b8f-123">A "compatible" package in this case means that it contains assemblies built for at least one target .NET framework that's compatible with the consuming project's target framework.</span></span> <span data-ttu-id="02b8f-124">为使包广泛兼容，包创建者需为各种目标框架编译单独的程序集，并将所有这些程序集包含在同一个包中。</span><span class="sxs-lookup"><span data-stu-id="02b8f-124">To make a package widely compatible, its creator compiles separate assemblies for various target frameworks and includes all of them in the same package.</span></span> <span data-ttu-id="02b8f-125">使用者安装该包时，NuGet 将仅提取项目所需的程序集。</span><span class="sxs-lookup"><span data-stu-id="02b8f-125">When a consumer installs that package, NuGet extracts only those assemblies that are needed by the project.</span></span> <span data-ttu-id="02b8f-126">这能将包在该项目生成的最终应用程序和/或程序集中的占用量降到最低。</span><span class="sxs-lookup"><span data-stu-id="02b8f-126">This minimizes the package's footprint in the final application and/or assemblies produced by that project.</span></span>

## <a name="nuget-tools"></a><span data-ttu-id="02b8f-127">NuGet 工具</span><span class="sxs-lookup"><span data-stu-id="02b8f-127">NuGet tools</span></span>

<span data-ttu-id="02b8f-128">除托管支持外，NuGet 还提供各种供创建者和使用者使用的工具：</span><span class="sxs-lookup"><span data-stu-id="02b8f-128">In addition to hosting support, NuGet also provides a variety of tools used by both creators and consumers:</span></span>

| <span data-ttu-id="02b8f-129">工具</span><span class="sxs-lookup"><span data-stu-id="02b8f-129">Tool</span></span> | <span data-ttu-id="02b8f-130">平台</span><span class="sxs-lookup"><span data-stu-id="02b8f-130">Platforms</span></span> | <span data-ttu-id="02b8f-131">适用方案</span><span class="sxs-lookup"><span data-stu-id="02b8f-131">Applicable Scenarios</span></span> | <span data-ttu-id="02b8f-132">描述</span><span class="sxs-lookup"><span data-stu-id="02b8f-132">Description</span></span> |
| --- | --- | --- | --- |
| [<span data-ttu-id="02b8f-133">nuget.exe CLI</span><span class="sxs-lookup"><span data-stu-id="02b8f-133">nuget.exe CLI</span></span>](Tools/nuget-exe-CLI-Reference.md) | <span data-ttu-id="02b8f-134">全部</span><span class="sxs-lookup"><span data-stu-id="02b8f-134">All</span></span> | <span data-ttu-id="02b8f-135">创建、使用</span><span class="sxs-lookup"><span data-stu-id="02b8f-135">Creation, Consumption</span></span> | <span data-ttu-id="02b8f-136">提供所有 NuGet 功能，包括一些专门适用于包创建者、仅适用于使用者和适用于两者的命令。</span><span class="sxs-lookup"><span data-stu-id="02b8f-136">Provides all NuGet capabilities, with some commands applying specifically to package creators, some applying only to consumers, and others applying to both.</span></span> <span data-ttu-id="02b8f-137">例如，包创建者使用 `nuget pack` 命令通过各种程序集和相关文件创建包，包使用者使用 `nuget install` 在项目中包含包，而所有人都可使用 `nuget config` 设置 NuGet 配置变量。</span><span class="sxs-lookup"><span data-stu-id="02b8f-137">For example, package creators use the `nuget pack` command to create a package from various assemblies and related files, package consumers use `nuget install` to include packages in a project, and everyone uses `nuget config` to set NuGet configuration variables.</span></span>  |
| [<span data-ttu-id="02b8f-138">包管理器 UI</span><span class="sxs-lookup"><span data-stu-id="02b8f-138">Package Manager UI</span></span>](Tools/Package-Manager-UI.md) | <span data-ttu-id="02b8f-139">Windows 版 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="02b8f-139">Visual Studio on Windows</span></span> | <span data-ttu-id="02b8f-140">使用</span><span class="sxs-lookup"><span data-stu-id="02b8f-140">Consumption</span></span> | <span data-ttu-id="02b8f-141">提供用于在 .NET 项目中安装和管理包的易用 UI。</span><span class="sxs-lookup"><span data-stu-id="02b8f-141">Provides an easy-to-use UI for installing and managing packages in .NET projects.</span></span> | 
| [<span data-ttu-id="02b8f-142">管理 NuGet UI</span><span class="sxs-lookup"><span data-stu-id="02b8f-142">Manage NuGet UI</span></span>](https://docs.microsoft.com/visualstudio/mac/nuget-walkthrough) | <span data-ttu-id="02b8f-143">Visual Studio for Mac</span><span class="sxs-lookup"><span data-stu-id="02b8f-143">Visual Studio for Mac</span></span> | <span data-ttu-id="02b8f-144">使用</span><span class="sxs-lookup"><span data-stu-id="02b8f-144">Consumption</span></span> | <span data-ttu-id="02b8f-145">提供用于在 .NET 项目中安装和管理包的易用 UI。</span><span class="sxs-lookup"><span data-stu-id="02b8f-145">Provide an easy-to-use UI for installing and managing packages in .NET projects.</span></span> |
| [<span data-ttu-id="02b8f-146">包管理器控制台</span><span class="sxs-lookup"><span data-stu-id="02b8f-146">Package Manager Console</span></span>](Tools/Package-Manager-Console.md) | <span data-ttu-id="02b8f-147">Windows 版 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="02b8f-147">Visual Studio on Windows</span></span> | <span data-ttu-id="02b8f-148">使用</span><span class="sxs-lookup"><span data-stu-id="02b8f-148">Consumption</span></span> | <span data-ttu-id="02b8f-149">提供用于在 .NET 项目中安装和管理包的 [PowerShell 命令](Tools/Powershell-Reference.md)。</span><span class="sxs-lookup"><span data-stu-id="02b8f-149">Provides [PowerShell commands](Tools/Powershell-Reference.md) for installing and managing packages in .NET projects.</span></span> | 
| [<span data-ttu-id="02b8f-150">dotnet CLI</span><span class="sxs-lookup"><span data-stu-id="02b8f-150">dotnet CLI</span></span>](Tools/dotnet-Commands.md) | <span data-ttu-id="02b8f-151">全部</span><span class="sxs-lookup"><span data-stu-id="02b8f-151">All</span></span> | <span data-ttu-id="02b8f-152">创建、使用</span><span class="sxs-lookup"><span data-stu-id="02b8f-152">Creation, Consumption</span></span> | <span data-ttu-id="02b8f-153">直接在 .NET Core 工具链中提供特定 NuGet CLI 功能。</span><span class="sxs-lookup"><span data-stu-id="02b8f-153">Provides certain NuGet CLI capabilities directly within the .NET Core toolchain.</span></span> |
| [<span data-ttu-id="02b8f-154">MSBuild</span><span class="sxs-lookup"><span data-stu-id="02b8f-154">MSBuild</span></span>](Schema/msbuild-targets.md) | <span data-ttu-id="02b8f-155">Windows</span><span class="sxs-lookup"><span data-stu-id="02b8f-155">Windows</span></span> | <span data-ttu-id="02b8f-156">创建、使用</span><span class="sxs-lookup"><span data-stu-id="02b8f-156">Creation, Consumption</span></span> | <span data-ttu-id="02b8f-157">支持创建包和还原项目中直接通过 MSBuild 工具链使用的包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-157">Provides the ability to create packages and restore packages used in a project directly through the MSBuild toolchain.</span></span> |

<span data-ttu-id="02b8f-158">如上文所述，与 NuGet 配合使用的工具很大程度上取决于用户要创建（和发布）包还是使用包以及所使用的平台。</span><span class="sxs-lookup"><span data-stu-id="02b8f-158">As you can see, the tools with which you work with NuGet depend greatly on whether you're creating (and publishing) packages or consuming them, and the platform you're working on.</span></span> <span data-ttu-id="02b8f-159">有关具体详细信息，请参阅[包创建工作流](Create-Packages/Overview-and-Workflow.md)和[包使用工作流](Consume-Packages/Overview-and-Workflow.md)主题以及这些部分中的其他主题。</span><span class="sxs-lookup"><span data-stu-id="02b8f-159">More specific details can be found in the [Package creation workflow](Create-Packages/Overview-and-Workflow.md) and [Package consumption workflow](Consume-Packages/Overview-and-Workflow.md) topics, along with other topics in those sections.</span></span> 

<span data-ttu-id="02b8f-160">包创建者通常也是使用者，因为他们以其他 NuGet 包中已存在的功能作为生成基础。</span><span class="sxs-lookup"><span data-stu-id="02b8f-160">Package creators are typically also consumers, as they build on top of functionality that exists in other NuGet packages.</span></span> <span data-ttu-id="02b8f-161">当然，这些包反过来可能也需要依赖其他包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-161">And those packages, of course, may in turn depend on still others.</span></span>

## <a name="managing-dependencies"></a><span data-ttu-id="02b8f-162">管理依赖项</span><span class="sxs-lookup"><span data-stu-id="02b8f-162">Managing dependencies</span></span>

<span data-ttu-id="02b8f-163">在其他人的工作基础上轻松生成，这是使程序包管理系统如此强大的方法之一。</span><span class="sxs-lookup"><span data-stu-id="02b8f-163">The ability to easily build on the work of others is one of the things that makes a package management system so powerful.</span></span> <span data-ttu-id="02b8f-164">相应地，大部分 NuGet 的用途就是代表项目管理该依赖项树或“关系图”。</span><span class="sxs-lookup"><span data-stu-id="02b8f-164">Accordingly, much of what NuGet does is managing that dependency tree or "graph" on behalf of your project.</span></span> <span data-ttu-id="02b8f-165">简单来说，你仅需要关注在项目中直接使用的包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-165">Simply said, you need only concern yourself with those packages that you're directly using in a project.</span></span> <span data-ttu-id="02b8f-166">如果任何这些包本身使用其他包（这些包可以使用包），NuGet 将负责所有这些下层依赖项。</span><span class="sxs-lookup"><span data-stu-id="02b8f-166">If any of those packages themselves consume other packages (which can consume packages), NuGet takes care of all those down-level dependencies.</span></span>

<span data-ttu-id="02b8f-167">下图显示一个依赖于五个包的项目，这些包反过来也依赖于许多其他包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-167">The following image shows a project that depends on five packages, which in turn depend on a number of others.</span></span>  

![.NET 项目的 NuGet 依赖项关系图示例](media/dependency-graph.png)

<span data-ttu-id="02b8f-169">请注意，某些包在依赖项关系图中多次出现。</span><span class="sxs-lookup"><span data-stu-id="02b8f-169">Notice that some packages appear multiple times in the dependency graph.</span></span> <span data-ttu-id="02b8f-170">例如，包 B 有三个不同的使用者，并且每个使用者可能为该包指定不同版本（未显示）。</span><span class="sxs-lookup"><span data-stu-id="02b8f-170">For example, there are three different consumers of package B, and each consumer might also specify a different version for that package (not shown).</span></span> <span data-ttu-id="02b8f-171">这是一种常见情况，幸运的是，NuGet 将执行所有困难工作来确定包 B 的哪一版本可满足所有使用者。</span><span class="sxs-lookup"><span data-stu-id="02b8f-171">Because this is a common occurrence, NuGet fortunately does all the hard work to determine exactly which version of package B satisfies all its consumers.</span></span> <span data-ttu-id="02b8f-172">随后，无论依赖项关系图多么复杂，NuGet 都将对所有包执行相同操作。</span><span class="sxs-lookup"><span data-stu-id="02b8f-172">NuGet then does the same for all other packages, no matter how deep the dependency graph becomes.</span></span>

<span data-ttu-id="02b8f-173">有关 NuGet 如何实现此服务的更多详细信息，请参阅[依赖项解析](Consume-Packages/Dependency-Resolution.md)。</span><span class="sxs-lookup"><span data-stu-id="02b8f-173">For more details on how NuGet performs this service, see [Dependency resolution](Consume-Packages/Dependency-Resolution.md).</span></span>

## <a name="tracking-references-and-restoring-packages"></a><span data-ttu-id="02b8f-174">跟踪引用和还原包</span><span class="sxs-lookup"><span data-stu-id="02b8f-174">Tracking references and restoring packages</span></span>

<span data-ttu-id="02b8f-175">项目可在开发人员计算机、源代码管理存储库、生成服务器等位置之间轻松移动，因此将 NuGet 包中的二进制程序集直接绑定到项目非常不切实际。</span><span class="sxs-lookup"><span data-stu-id="02b8f-175">Because projects can easily move between developer computers, source control repositories, build servers, and so forth, it's highly impractical to keep binary assemblies from NuGet packages directly bound to a project.</span></span> <span data-ttu-id="02b8f-176">这不仅会使项目的每个副本出现不必要的膨胀（并且浪费源代码管理存储库中的空间），还会使包二进制文件难以更新到新版本（因为这需要更新项目的所有副本）。</span><span class="sxs-lookup"><span data-stu-id="02b8f-176">Not only would this make each copy of the project unnecessarily bloated (and thereby waste space in source control repositories), it would also make it very difficult to update package binaries to newer versions as this would have to be done across all copies of the project.</span></span> 

<span data-ttu-id="02b8f-177">而 NuGet 只需保留项目所依赖包（包括顶层和下层依赖项）的引用列表，并根据请求提供还原所有引用包的方法（如[包还原](Consume-Packages/Package-Restore.md)中所述）。</span><span class="sxs-lookup"><span data-stu-id="02b8f-177">Instead, NuGet simply maintains a reference list of the packages upon which a project depends (including both top-level and down-level dependencies), and provides the means to restore all referenced packages upon request as described on [Package restore](Consume-Packages/Package-Restore.md).</span></span> <span data-ttu-id="02b8f-178">也就是说，每当你将某个主机中的包安装到项目中时，NuGet 都将在此引用列表中记录包标识符和版本号。</span><span class="sxs-lookup"><span data-stu-id="02b8f-178">That is, whenever you install a package from some host into a project, NuGet records the package identifier and version number in this reference list.</span></span> <span data-ttu-id="02b8f-179">（当然，卸载包将从列表中删除此信息。）</span><span class="sxs-lookup"><span data-stu-id="02b8f-179">(Uninstalling a package, of course, removes it from the list.)</span></span> 

![NuGet 引用列表在包安装时创建，可用于在其他位置还原包](media/nuget-restore.png)

<span data-ttu-id="02b8f-181">只需引用列表，NuGet 随后即可随时从公共和/或私有主机重新安装（即还原）所有这些包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-181">With only the reference list, NuGet can then reinstall&mdash;that is, restore&mdash;all of those packages from public and/or private hosts at any later time.</span></span> <span data-ttu-id="02b8f-182">（出于此原因，nuget.org 不允许永久性删除已发布的包，但可以隐藏；请参阅[删除包](Policies/deleting-packages.md)）。将项目提交到源代码管理存储库或将其以其他方式进行共享时，只需包含引用列表，不需要包含任何包二进制文件（请参阅[包和源代码管理](Consume-Packages/Packages-and-Source-Control.md)）。</span><span class="sxs-lookup"><span data-stu-id="02b8f-182">(For this reason, nuget.org does not allow permanent deletion of published packages, although they can be hidden; see [Deleting packages](Policies/deleting-packages.md).) When committing a project to source control, or sharing it in some other way, you need only include the reference list and need not include any package binaries (see [Packages and source control](Consume-Packages/Packages-and-Source-Control.md).)</span></span>

<span data-ttu-id="02b8f-183">接收项目的计算机（如获得项目副本并将其作为自动部署系统的一部分的生成服务器）仅会在需要时要求 NuGet 还原依赖项。</span><span class="sxs-lookup"><span data-stu-id="02b8f-183">The computer that receives a project, such as a build server obtaining a copy of the project as part of an automated deployment system, simply asks NuGet to restore dependencies whenever they're needed.</span></span> <span data-ttu-id="02b8f-184">Visual Studio Team Services 等生成系统会针对此确切目的提供“NuGet 还原”步骤。</span><span class="sxs-lookup"><span data-stu-id="02b8f-184">Build systems like Visual Studio Team Services provide "NuGet restore" steps for this exact purpose.</span></span> <span data-ttu-id="02b8f-185">类似地，当开发人员获得项目副本（如克隆存储库时）并随后打开 Visual Studio 中的项目和运行生成时，Visual Studio 会自动还原必要的 NuGet 包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-185">Similarly, when developers obtain a copy of a project (as when cloning a repository) then open the project in Visual Studio and run a build, Visual Studio automatically restores the necessary NuGet packages.</span></span> <span data-ttu-id="02b8f-186">开发人员还可以在包管理器控制台中使用 `nuget restore` CLI 命令或 `Install-Package` cmdlet 随时指示 NuGet 还原包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-186">Developers can also tell NuGet to restore packages at any time using the `nuget restore` CLI command or the `Install-Package` cmdlet in the Package Manager Console.</span></span>

<span data-ttu-id="02b8f-187">显然，开发人员接下来关注的 NuGet 的主要角色则是代表项目维护该引用列表并提供高效还原（和更新）这些引用包的方法。</span><span class="sxs-lookup"><span data-stu-id="02b8f-187">Clearly, then, NuGet's primary role where developers are concerned is maintaining that reference list on behalf of your project and providing the means to efficiently restore (and update) those referenced packages.</span></span>

<span data-ttu-id="02b8f-188">此目标的确切实现方法已随 NuGet 的不同版本进行演变，并形成如下几种包管理格式：</span><span class="sxs-lookup"><span data-stu-id="02b8f-188">How this exactly happens has evolved over the different versions of NuGet, resulting in several *package management formats*, as they're called:</span></span>

- <span data-ttu-id="02b8f-189">[`packages.config`](Schema/packages-config.md)：(NuGet 1.0+) 一种 XML 文件，用于维护项目中所有依赖项的简单列表，包括其他已安装包的依赖项。</span><span class="sxs-lookup"><span data-stu-id="02b8f-189">[`packages.config`](Schema/packages-config.md): *(NuGet 1.0+)* An XML file that maintains a flat list of all dependencies in the project, including the dependencies of other installed packages.</span></span> 
- <span data-ttu-id="02b8f-190">[`project.json`](Schema/project-json.md)：(NuGet 3.0+) 一种 JSON 文件，用于维护项目依赖项的列表，同时将包的整体信息图存储在关联文件 `project.lock.json` 中。</span><span class="sxs-lookup"><span data-stu-id="02b8f-190">[`project.json`](Schema/project-json.md): *(NuGet 3.0+)* A JSON file that maintains a list of the project's dependencies with an overall package graph in an associated file, `project.lock.json`.</span></span> <span data-ttu-id="02b8f-191">此结构可提供包括传递还原等优于 `packages.config` 的性能（如[依赖项解析](Consume-Packages/Dependency-Resolution.md)中所述），但通常会用下方的 PackageReference 取代其本身。</span><span class="sxs-lookup"><span data-stu-id="02b8f-191">This structure provides improved performance over `packages.config` as described on [Dependency Resolution](Consume-Packages/Dependency-Resolution.md), including transitive restore, but has itself been generally superseded by PackageReference below.</span></span>
- <span data-ttu-id="02b8f-192">[项目文件中的包引用](Consume-Packages/Package-References-in-Project-Files.md)（也称为“PackageReference”）| (NuGet 4.0+) 维护直接位于项目文件中的项目顶层依赖项的列表，因此无需单独文件。</span><span class="sxs-lookup"><span data-stu-id="02b8f-192">[Package references in project files](Consume-Packages/Package-References-in-Project-Files.md) (also known as "PackageReference") | *(NuGet 4.0+)* Maintains a list of a project's top-level dependencies directly within the project file, so no separate file is needed.</span></span> <span data-ttu-id="02b8f-193">与 `project.lock.json` 类似，关联文件 `project.assets.json` 动态生成，用于管理整体依赖项关系图。</span><span class="sxs-lookup"><span data-stu-id="02b8f-193">An associated file, `project.assets.json`, is dynamically generated like `project.lock.json` to manage the overall dependency graph.</span></span>

<span data-ttu-id="02b8f-194">任何特定项目中所用的包管理格式取决于项目类型以及 NuGet 和 Visual Studio 的可用版本。</span><span class="sxs-lookup"><span data-stu-id="02b8f-194">Which package management format is employed in any given project depends on the project type, and the available version of NuGet and Visual Studio.</span></span> <span data-ttu-id="02b8f-195">若要确认当前使用的格式，只需在安装第一个包后在项目根目录中查找 `packages.config` 或 `project.json`。</span><span class="sxs-lookup"><span data-stu-id="02b8f-195">To check what format is being used, simply look for `packages.config` or `project.json` in the project root after installing your first package.</span></span> <span data-ttu-id="02b8f-196">如果未看到任一文件，请直接在项目文件中查找 &lt;PackageReference&gt; 元素。</span><span class="sxs-lookup"><span data-stu-id="02b8f-196">If you don't see either file, look in the project file directly for a &lt;PackageReference&gt;element.</span></span>

<span data-ttu-id="02b8f-197">例如，在 Visual Studio 2017 中，除 UWP C# 和 .NET Core 项目使用 PackageReference 外，大多数类型的项目均使用 `packages.config`。</span><span class="sxs-lookup"><span data-stu-id="02b8f-197">In Visual Studio 2017, for example, most project types use `packages.config` except for UWP C# and .NET Core projects which use PackageReference.</span></span> 

## <a name="what-else-does-nuget-do"></a><span data-ttu-id="02b8f-198">NuGet 的其他功能</span><span class="sxs-lookup"><span data-stu-id="02b8f-198">What else does NuGet do?</span></span>

<span data-ttu-id="02b8f-199">现对以上所述内容进行总结，NuGet 提供（作为托管角色）中央 nuget.org 存储库并且支持私有托管。</span><span class="sxs-lookup"><span data-stu-id="02b8f-199">To summarize what we've covered so far, NuGet provides (in its hosting role) the central nuget.org repository and supports private hosting.</span></span> <span data-ttu-id="02b8f-200">NuGet 为开发人员提供创建、发布和使用包所需的工具。</span><span class="sxs-lookup"><span data-stu-id="02b8f-200">NuGet provides the tools developers need for creating, publishing, and consuming packages.</span></span> <span data-ttu-id="02b8f-201">最重要的是，NuGet 能维护项目中使用的包的引用列表，并且能够通过该列表还原和更新这些包。</span><span class="sxs-lookup"><span data-stu-id="02b8f-201">And most importantly, NuGet maintains a reference list of packages used in a project and the ability to restore and update those packages from that list.</span></span>

<span data-ttu-id="02b8f-202">为使这些进程高效运行，NuGet 执行了一些后台优化。</span><span class="sxs-lookup"><span data-stu-id="02b8f-202">To make these processes work efficiently, NuGet does some behind-the-scenes optimizations.</span></span> <span data-ttu-id="02b8f-203">最值得注意的是，NuGet 管理计算机范围和项目特定的包缓存，以此简化安装和重新安装。</span><span class="sxs-lookup"><span data-stu-id="02b8f-203">Most notably, NuGet manages both computer-wide and project-specific package caches to shortcut installation and reinstallation.</span></span> <span data-ttu-id="02b8f-204">对于计算机范围的缓存，在项目中下载和安装的任何包都存储在缓存中，因此在其他项目中安装相同包时则无需再次下载。</span><span class="sxs-lookup"><span data-stu-id="02b8f-204">Where the computer-wide cache is concerned, any package that you download and install in a project is stored in the cache, such that installing the same package in another project doesn't have to download it again.</span></span> <span data-ttu-id="02b8f-205">当在生成服务器等位置频繁还原大量包时，这显然非常有帮助。</span><span class="sxs-lookup"><span data-stu-id="02b8f-205">This is clearly very helpful when you're frequently restoring a larger number of packages, as on a build server.</span></span> <span data-ttu-id="02b8f-206">有关此机制及其使用方法的更多详细信息，请参阅[管理 NuGet 缓存](Consume-Packages/Managing-the-Nuget-Cache.md)。</span><span class="sxs-lookup"><span data-stu-id="02b8f-206">For more details on the mechanism and how to work with it, see [Managing the NuGet cache](Consume-Packages/Managing-the-Nuget-Cache.md).</span></span>

<span data-ttu-id="02b8f-207">在单个项目中，NuGet 执行大量工作来管理整体依赖项关系图。</span><span class="sxs-lookup"><span data-stu-id="02b8f-207">Within an individual project, NuGet does a lot of work to manage the overall dependency graph.</span></span> <span data-ttu-id="02b8f-208">（使用 `project.json` 或 &lt;PackageReference&gt; 时，NuGet 将在名为 `project.lock.json` 和 `project.assets.json` 的辅助文件中分别保留该信息。）其中同样包括对相同包的不同版本的多次引用进行解析。</span><span class="sxs-lookup"><span data-stu-id="02b8f-208">(When using `project.json` or &lt;PackageReference&gt;, NuGet keeps that information in a secondary file called `project.lock.json` and `project.assets.json`, respectively.) This again includes resolving multiple references to different versions of the same package.</span></span>

<span data-ttu-id="02b8f-209">也就是说，项目在具有相同依赖项的一个或多个包上选取依赖项是很常见的情况。</span><span class="sxs-lookup"><span data-stu-id="02b8f-209">That is, it's quite common that a project takes a dependency on one or more packages that themselves have the same dependencies.</span></span> <span data-ttu-id="02b8f-210">例如，nuget.org 上的某些最有用的实用程序包即由其他许多包使用。</span><span class="sxs-lookup"><span data-stu-id="02b8f-210">For example, some of the most useful utility packages on nuget.org are employed by many other packages.</span></span> <span data-ttu-id="02b8f-211">在包含 10 个依赖项的整个依赖项关系图中，你可以对同一个包的不同版本轻松发起 10 种不同的引用。</span><span class="sxs-lookup"><span data-stu-id="02b8f-211">In the entire dependency graph, ten, you could easily have ten different references to different versions of the same package.</span></span> <span data-ttu-id="02b8f-212">但是，不能将该包的多个版本引入应用程序本身，因为 NuGet 会挑选出一个适合所有使用者的版本。</span><span class="sxs-lookup"><span data-stu-id="02b8f-212">However, you don't want to bring multiple versions of that package into the application itself, so NuGet sorts out which single version that everyone can use.</span></span> <span data-ttu-id="02b8f-213">（有关本主题的详细信息，请参阅[依赖项解析](Consume-Packages/Dependency-Resolution.md)。）</span><span class="sxs-lookup"><span data-stu-id="02b8f-213">(See [Dependency Resolution](Consume-Packages/Dependency-Resolution.md) for more on this topic.)</span></span>

<span data-ttu-id="02b8f-214">除此之外，NuGet 维护与如何构造包（包括[本地化](Create-Packages/Creating-Localized-Packages.md)和[调试符号](Create-Packages/Symbol-Packages.md)）和如何引用包（包括[版本范围](reference/package-versioning.md#version-ranges-and-wildcards)和[预发行版本](create-packages/Prerelease-Packages.md)）相关的所有规范。NuGet 还为凭据提供程序（用于访问私有主机）和开发人员（用于编写 Visual Studio 扩展和项目模板）提供 API。</span><span class="sxs-lookup"><span data-stu-id="02b8f-214">Beyond that, NuGet maintains all the specifications related to how packages are structured (including [localization](Create-Packages/Creating-Localized-Packages.md) and [debug symbols](Create-Packages/Symbol-Packages.md)) and how they are referenced (including [version ranges](reference/package-versioning.md#version-ranges-and-wildcards) and [pre-release versions](create-packages/Prerelease-Packages.md).) NuGet also provides APIs for credential providers (for accessing private hosts) and for developers who write Visual Studio extensions and project templates.</span></span>

<span data-ttu-id="02b8f-215">请花一点时间浏览本文档的目录，你将看到其中列出了所有这些功能，还包括自 NuGet 首次发行起的发行说明。</span><span class="sxs-lookup"><span data-stu-id="02b8f-215">Take a moment to browse the table of contents for this documentation, and you'll see all of these capabilities represented there, along with release notes dating back to NuGet's beginnings.</span></span>

## <a name="comments-contributions-and-issues"></a><span data-ttu-id="02b8f-216">评论、建议和问题</span><span class="sxs-lookup"><span data-stu-id="02b8f-216">Comments, contributions, and issues</span></span>

<span data-ttu-id="02b8f-217">最后，我们非常欢迎针对此文档给出评论和建议，只需在任何页面选择“评论”和“编辑”命令，或访问 GitHub 上的[文档存储库](https://github.com/NuGet/docs.microsoft.com-nuget/)和[文档问题列表](https://github.com/NuGet/docs.microsoft.com-nuget/issues)。</span><span class="sxs-lookup"><span data-stu-id="02b8f-217">Finally, we very much welcome comments and contributions to this documentation&mdash;just select the **Comments** and **Edit** commands on any page, or visit the [docs repository](https://github.com/NuGet/docs.microsoft.com-nuget/) and [docs issue list](https://github.com/NuGet/docs.microsoft.com-nuget/issues) on GitHub.</span></span>

<span data-ttu-id="02b8f-218">我们同样欢迎通过[多种 GitHub 存储库](https://github.com/NuGet/Home)针对 NuGet 本身提出建议；有关 NuGet 的问题，请访问 [https://github.com/NuGet/home/issues](https://github.com/NuGet/home/issues)。</span><span class="sxs-lookup"><span data-stu-id="02b8f-218">We also welcome contributions to NuGet itself through its [various GitHub repositories](https://github.com/NuGet/Home); NuGet issues can be found on [https://github.com/NuGet/home/issues](https://github.com/NuGet/home/issues).</span></span>

<span data-ttu-id="02b8f-219">请尽情享受 NuGet 体验！</span><span class="sxs-lookup"><span data-stu-id="02b8f-219">Enjoy your NuGet experience!</span></span>
