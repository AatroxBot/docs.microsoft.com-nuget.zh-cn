---
title: 包元数据，NuGet API
description: 包注册基 URL 允许获取有关包的元数据。
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: c62e5b7b53d30a1b362e87dbbea26355a36b1274
ms.sourcegitcommit: e9c1dd0679ddd8ba3ee992d817b405f13da0472a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/29/2020
ms.locfileid: "76813268"
---
# <a name="package-metadata"></a><span data-ttu-id="ea68b-103">包元数据</span><span class="sxs-lookup"><span data-stu-id="ea68b-103">Package metadata</span></span>

<span data-ttu-id="ea68b-104">可以使用 NuGet V3 API 提取有关包源上可用包的元数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-104">It is possible to fetch metadata about the packages available on a package source using the NuGet V3 API.</span></span> <span data-ttu-id="ea68b-105">可以使用在[服务索引](service-index.md)中找到的 `RegistrationsBaseUrl` 资源来提取此元数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-105">This metadata can be fetched using the `RegistrationsBaseUrl` resource found in the [service index](service-index.md).</span></span>

<span data-ttu-id="ea68b-106">在 `RegistrationsBaseUrl` 下找到的文档的集合通常称为 "注册" 或 "注册 blob"。</span><span class="sxs-lookup"><span data-stu-id="ea68b-106">The collection of the documents found under `RegistrationsBaseUrl` are often called "registrations" or "registration blobs".</span></span> <span data-ttu-id="ea68b-107">单个 `RegistrationsBaseUrl` 下的文档集称为 "注册配置单元"。</span><span class="sxs-lookup"><span data-stu-id="ea68b-107">The set of documents under a single `RegistrationsBaseUrl` is referred to as a "registration hive".</span></span> <span data-ttu-id="ea68b-108">注册配置单元包含有关包源上可用的每个包的所有元数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-108">A registration hive contains all metadata about every package available on a package source.</span></span>

## <a name="versioning"></a><span data-ttu-id="ea68b-109">版本管理</span><span class="sxs-lookup"><span data-stu-id="ea68b-109">Versioning</span></span>

<span data-ttu-id="ea68b-110">使用以下 `@type` 值：</span><span class="sxs-lookup"><span data-stu-id="ea68b-110">The following `@type` values are used:</span></span>

<span data-ttu-id="ea68b-111">@type 值</span><span class="sxs-lookup"><span data-stu-id="ea68b-111">@type value</span></span>                     | <span data-ttu-id="ea68b-112">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-112">Notes</span></span>
------------------------------- | -----
<span data-ttu-id="ea68b-113">RegistrationsBaseUrl</span><span class="sxs-lookup"><span data-stu-id="ea68b-113">RegistrationsBaseUrl</span></span>            | <span data-ttu-id="ea68b-114">初始版本</span><span class="sxs-lookup"><span data-stu-id="ea68b-114">The initial release</span></span>
<span data-ttu-id="ea68b-115">RegistrationsBaseUrl/3.0.0-beta</span><span class="sxs-lookup"><span data-stu-id="ea68b-115">RegistrationsBaseUrl/3.0.0-beta</span></span> | <span data-ttu-id="ea68b-116">`RegistrationsBaseUrl` 的别名</span><span class="sxs-lookup"><span data-stu-id="ea68b-116">Alias of `RegistrationsBaseUrl`</span></span>
<span data-ttu-id="ea68b-117">RegistrationsBaseUrl/3.0.0-rc</span><span class="sxs-lookup"><span data-stu-id="ea68b-117">RegistrationsBaseUrl/3.0.0-rc</span></span>   | <span data-ttu-id="ea68b-118">`RegistrationsBaseUrl` 的别名</span><span class="sxs-lookup"><span data-stu-id="ea68b-118">Alias of `RegistrationsBaseUrl`</span></span>
<span data-ttu-id="ea68b-119">RegistrationsBaseUrl/3.4.0</span><span class="sxs-lookup"><span data-stu-id="ea68b-119">RegistrationsBaseUrl/3.4.0</span></span>      | <span data-ttu-id="ea68b-120">Gzip 压缩过响应</span><span class="sxs-lookup"><span data-stu-id="ea68b-120">Gzipped responses</span></span>
<span data-ttu-id="ea68b-121">RegistrationsBaseUrl/3.6.0</span><span class="sxs-lookup"><span data-stu-id="ea68b-121">RegistrationsBaseUrl/3.6.0</span></span>      | <span data-ttu-id="ea68b-122">包括 SemVer 2.0.0 包</span><span class="sxs-lookup"><span data-stu-id="ea68b-122">Includes SemVer 2.0.0 packages</span></span>

<span data-ttu-id="ea68b-123">这表示可用于各种客户端版本的三个不同的注册配置单元。</span><span class="sxs-lookup"><span data-stu-id="ea68b-123">This represents three distinct registration hives available for various client versions.</span></span>

### <a name="registrationsbaseurl"></a><span data-ttu-id="ea68b-124">RegistrationsBaseUrl</span><span class="sxs-lookup"><span data-stu-id="ea68b-124">RegistrationsBaseUrl</span></span>

<span data-ttu-id="ea68b-125">这些注册不会压缩（也就是说，它们使用隐含的 `Content-Encoding: identity`）。</span><span class="sxs-lookup"><span data-stu-id="ea68b-125">These registrations are not compressed (meaning they use an implied `Content-Encoding: identity`).</span></span> <span data-ttu-id="ea68b-126">此配置单元中**排除**了 SemVer 2.0.0 包。</span><span class="sxs-lookup"><span data-stu-id="ea68b-126">SemVer 2.0.0 packages are **excluded** from this hive.</span></span>

### <a name="registrationsbaseurl340"></a><span data-ttu-id="ea68b-127">RegistrationsBaseUrl/3.4.0</span><span class="sxs-lookup"><span data-stu-id="ea68b-127">RegistrationsBaseUrl/3.4.0</span></span>

<span data-ttu-id="ea68b-128">这些注册使用 `Content-Encoding: gzip`进行压缩。</span><span class="sxs-lookup"><span data-stu-id="ea68b-128">These registrations are compressed using `Content-Encoding: gzip`.</span></span> <span data-ttu-id="ea68b-129">此配置单元中**排除**了 SemVer 2.0.0 包。</span><span class="sxs-lookup"><span data-stu-id="ea68b-129">SemVer 2.0.0 packages are **excluded** from this hive.</span></span>

### <a name="registrationsbaseurl360"></a><span data-ttu-id="ea68b-130">RegistrationsBaseUrl/3.6.0</span><span class="sxs-lookup"><span data-stu-id="ea68b-130">RegistrationsBaseUrl/3.6.0</span></span>

<span data-ttu-id="ea68b-131">这些注册使用 `Content-Encoding: gzip`进行压缩。</span><span class="sxs-lookup"><span data-stu-id="ea68b-131">These registrations are compressed using `Content-Encoding: gzip`.</span></span> <span data-ttu-id="ea68b-132">此配置单元中**包含**SemVer 2.0.0 包。</span><span class="sxs-lookup"><span data-stu-id="ea68b-132">SemVer 2.0.0 packages are **included** in this hive.</span></span>
<span data-ttu-id="ea68b-133">有关 SemVer 2.0.0 的详细信息，请参阅[nuget.org 的 SemVer 2.0.0 支持](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29)。</span><span class="sxs-lookup"><span data-stu-id="ea68b-133">For more information about SemVer 2.0.0, see [SemVer 2.0.0 support for nuget.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29).</span></span>

## <a name="base-url"></a><span data-ttu-id="ea68b-134">基 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-134">Base URL</span></span>

<span data-ttu-id="ea68b-135">以下 Api 的基 URL 是与前面提到的资源 `@type` 值相关联的 `@id` 属性的值。</span><span class="sxs-lookup"><span data-stu-id="ea68b-135">The base URL for the following APIs is the value of the `@id` property associated with the aforementioned resource `@type` values.</span></span> <span data-ttu-id="ea68b-136">在下面的文档中，将使用占位符基 URL `{@id}`。</span><span class="sxs-lookup"><span data-stu-id="ea68b-136">In the following document, the placeholder base URL `{@id}` will be used.</span></span>

## <a name="http-methods"></a><span data-ttu-id="ea68b-137">HTTP 方法</span><span class="sxs-lookup"><span data-stu-id="ea68b-137">HTTP methods</span></span>

<span data-ttu-id="ea68b-138">注册资源中找到的所有 Url 都支持 `GET` 和 `HEAD`的 HTTP 方法。</span><span class="sxs-lookup"><span data-stu-id="ea68b-138">All URLs found in the registration resource support the HTTP methods `GET` and `HEAD`.</span></span>

## <a name="registration-index"></a><span data-ttu-id="ea68b-139">注册索引</span><span class="sxs-lookup"><span data-stu-id="ea68b-139">Registration index</span></span>

<span data-ttu-id="ea68b-140">注册资源组按包 ID 包元数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-140">The registration resource groups package metadata by package ID.</span></span> <span data-ttu-id="ea68b-141">一次不能获取有关多个包 ID 的数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-141">It is not possible to get data about more than one package ID at a time.</span></span> <span data-ttu-id="ea68b-142">此资源不提供任何方式来发现包 Id。</span><span class="sxs-lookup"><span data-stu-id="ea68b-142">This resource provides no way to discover package IDs.</span></span> <span data-ttu-id="ea68b-143">相反，假设客户端已经知道所需的包 ID。</span><span class="sxs-lookup"><span data-stu-id="ea68b-143">Instead the client is assumed to already know the desired package ID.</span></span> <span data-ttu-id="ea68b-144">每个包版本的可用元数据因服务器实现而异。</span><span class="sxs-lookup"><span data-stu-id="ea68b-144">Available metadata about each package version varies by server implementation.</span></span> <span data-ttu-id="ea68b-145">包注册 blob 具有以下层次结构：</span><span class="sxs-lookup"><span data-stu-id="ea68b-145">The package registration blobs have the following hierarchical structure:</span></span>

- <span data-ttu-id="ea68b-146">**索引**：包元数据的入口点，由具有相同包 ID 的源中的所有包共享。</span><span class="sxs-lookup"><span data-stu-id="ea68b-146">**Index**: the entry point for the package metadata, shared by all packages on a source with the same package ID.</span></span>
- <span data-ttu-id="ea68b-147">**页面**：包版本的分组。</span><span class="sxs-lookup"><span data-stu-id="ea68b-147">**Page**: a grouping of package versions.</span></span> <span data-ttu-id="ea68b-148">页面中的包版本数由服务器实现定义。</span><span class="sxs-lookup"><span data-stu-id="ea68b-148">The number of package versions in a page is defined by server implementation.</span></span>
- <span data-ttu-id="ea68b-149">**叶**：特定于单个包版本的文档。</span><span class="sxs-lookup"><span data-stu-id="ea68b-149">**Leaf**: a document specific to a single package version.</span></span>

<span data-ttu-id="ea68b-150">注册索引的 URL 可预测，并且可由客户端从服务索引中给定包 ID 和注册资源的 `@id` 值确定。</span><span class="sxs-lookup"><span data-stu-id="ea68b-150">The URL of the registration index is predictable and can be determined by the client given a package ID and the registration resource's `@id` value from the service index.</span></span> <span data-ttu-id="ea68b-151">通过检查注册索引发现注册页和叶的 Url。</span><span class="sxs-lookup"><span data-stu-id="ea68b-151">The URLs for the registration pages and leaves are discovered by inspecting the registration index.</span></span>

### <a name="registration-pages-and-leaves"></a><span data-ttu-id="ea68b-152">注册页面和叶</span><span class="sxs-lookup"><span data-stu-id="ea68b-152">Registration pages and leaves</span></span>

<span data-ttu-id="ea68b-153">尽管服务器实现将注册 leafs 存储在单独的注册页文档中并不是绝对必需的，但建议使用这种方法来节省客户端内存。</span><span class="sxs-lookup"><span data-stu-id="ea68b-153">Although it's not strictly required for a server implementation to store registration leafs in seperate registration page documents, it's a recommended practice to conserve client-side memory.</span></span> <span data-ttu-id="ea68b-154">建议服务器实现定义一些试探法，以根据包版本的数量在这两种方法之间进行选择，而不是将所有注册留在索引中，也不会立即存储在页面文档中。包叶的累计大小。</span><span class="sxs-lookup"><span data-stu-id="ea68b-154">Instead of inlining all registration leaves in the index or immediately storing leaves in page documents, it's recommended that the server implementation define some heuristic to choose between the two approaches based on the number of package versions or cumulative size of package leaves.</span></span>

<span data-ttu-id="ea68b-155">将所有包版本（叶）存储在注册索引中可节省提取包元数据所需的 HTTP 请求数，但这意味着必须下载更大的文档，并且必须分配更多的客户端内存。</span><span class="sxs-lookup"><span data-stu-id="ea68b-155">Storing all package versions (leaves) in the registration index saves on the number of HTTP requests necessary to fetch package metadata but means that a larger document must be downloaded and more client memory must be allocated.</span></span> <span data-ttu-id="ea68b-156">另一方面，如果服务器实现立即将注册留在单独的页面文档中，则客户端必须执行更多 HTTP 请求以获取所需的信息。</span><span class="sxs-lookup"><span data-stu-id="ea68b-156">On the other hand, if the server implementation immediately stores registration leaves in seperate page documents, the client must perform more HTTP requests to get the information it needs.</span></span>

<span data-ttu-id="ea68b-157">Nuget.org 使用的试探法如下：如果包有128或更多版本，请将叶分成大小为64的页。</span><span class="sxs-lookup"><span data-stu-id="ea68b-157">The heuristic that nuget.org uses is as follows: if there are 128 or more versions of a package, break the leaves into pages of size 64.</span></span> <span data-ttu-id="ea68b-158">如果版本低于128，则将所有行都置于注册索引中。</span><span class="sxs-lookup"><span data-stu-id="ea68b-158">If there are less than 128 versions, inline all leaves into the registration index.</span></span> <span data-ttu-id="ea68b-159">请注意，这意味着65到127版本的包在索引中将有两页，但这两个页将被内联。</span><span class="sxs-lookup"><span data-stu-id="ea68b-159">Note that this means packages with 65 to 127 versions will have two pages in the index but both pages will be inlined.</span></span>

    GET {@id}/{LOWER_ID}/index.json

### <a name="request-parameters"></a><span data-ttu-id="ea68b-160">请求参数</span><span class="sxs-lookup"><span data-stu-id="ea68b-160">Request parameters</span></span>

<span data-ttu-id="ea68b-161">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-161">Name</span></span>     | <span data-ttu-id="ea68b-162">在   中查看</span><span class="sxs-lookup"><span data-stu-id="ea68b-162">In</span></span>     | <span data-ttu-id="ea68b-163">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-163">Type</span></span>    | <span data-ttu-id="ea68b-164">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-164">Required</span></span> | <span data-ttu-id="ea68b-165">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-165">Notes</span></span>
-------- | ------ | ------- | -------- | -----
<span data-ttu-id="ea68b-166">LOWER_ID</span><span class="sxs-lookup"><span data-stu-id="ea68b-166">LOWER_ID</span></span> | <span data-ttu-id="ea68b-167">{2&gt; URL&lt;2}</span><span class="sxs-lookup"><span data-stu-id="ea68b-167">URL</span></span>    | <span data-ttu-id="ea68b-168">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-168">string</span></span>  | <span data-ttu-id="ea68b-169">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-169">yes</span></span>      | <span data-ttu-id="ea68b-170">包 ID lowercased</span><span class="sxs-lookup"><span data-stu-id="ea68b-170">The package ID, lowercased</span></span>

<span data-ttu-id="ea68b-171">`LOWER_ID` 值是所需的包 ID lowercased，它使用由实现的规则。NET 的[`System.String.ToLowerInvariant()`](/dotnet/api/system.string.tolowerinvariant?view=netstandard-2.0#System_String_ToLowerInvariant)方法。</span><span class="sxs-lookup"><span data-stu-id="ea68b-171">The `LOWER_ID` value is the desired package ID lowercased using the rules implemented by .NET's [`System.String.ToLowerInvariant()`](/dotnet/api/system.string.tolowerinvariant?view=netstandard-2.0#System_String_ToLowerInvariant) method.</span></span>

### <a name="response"></a><span data-ttu-id="ea68b-172">响应</span><span class="sxs-lookup"><span data-stu-id="ea68b-172">Response</span></span>

<span data-ttu-id="ea68b-173">响应是一个 JSON 文档，其中包含具有以下属性的根对象：</span><span class="sxs-lookup"><span data-stu-id="ea68b-173">The response is a JSON document which has a root object with the following properties:</span></span>

<span data-ttu-id="ea68b-174">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-174">Name</span></span>  | <span data-ttu-id="ea68b-175">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-175">Type</span></span>             | <span data-ttu-id="ea68b-176">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-176">Required</span></span> | <span data-ttu-id="ea68b-177">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-177">Notes</span></span>
----- | ---------------- | -------- | -----
<span data-ttu-id="ea68b-178">count</span><span class="sxs-lookup"><span data-stu-id="ea68b-178">count</span></span> | <span data-ttu-id="ea68b-179">整数</span><span class="sxs-lookup"><span data-stu-id="ea68b-179">integer</span></span>          | <span data-ttu-id="ea68b-180">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-180">yes</span></span>      | <span data-ttu-id="ea68b-181">索引中注册页的数目</span><span class="sxs-lookup"><span data-stu-id="ea68b-181">The number of registration pages in the index</span></span>
<span data-ttu-id="ea68b-182">项</span><span class="sxs-lookup"><span data-stu-id="ea68b-182">items</span></span> | <span data-ttu-id="ea68b-183">对象数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-183">array of objects</span></span> | <span data-ttu-id="ea68b-184">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-184">yes</span></span>      | <span data-ttu-id="ea68b-185">注册页的数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-185">The array of registration pages</span></span>

<span data-ttu-id="ea68b-186">Index 对象的 `items` 数组中的每一项都是一个表示注册页的 JSON 对象。</span><span class="sxs-lookup"><span data-stu-id="ea68b-186">Each item in the index object's `items` array is a JSON object representing a registration page.</span></span>

#### <a name="registration-page-object"></a><span data-ttu-id="ea68b-187">注册页对象</span><span class="sxs-lookup"><span data-stu-id="ea68b-187">Registration page object</span></span>

<span data-ttu-id="ea68b-188">在注册索引中找到的注册页对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="ea68b-188">The registration page object found in the registration index has the following properties:</span></span>

<span data-ttu-id="ea68b-189">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-189">Name</span></span>   | <span data-ttu-id="ea68b-190">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-190">Type</span></span>             | <span data-ttu-id="ea68b-191">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-191">Required</span></span> | <span data-ttu-id="ea68b-192">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-192">Notes</span></span>
------ | ---------------- | -------- | -----
@id    | <span data-ttu-id="ea68b-193">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-193">string</span></span>           | <span data-ttu-id="ea68b-194">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-194">yes</span></span>      | <span data-ttu-id="ea68b-195">注册页的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-195">The URL to the registration page</span></span>
<span data-ttu-id="ea68b-196">count</span><span class="sxs-lookup"><span data-stu-id="ea68b-196">count</span></span>  | <span data-ttu-id="ea68b-197">整数</span><span class="sxs-lookup"><span data-stu-id="ea68b-197">integer</span></span>          | <span data-ttu-id="ea68b-198">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-198">yes</span></span>      | <span data-ttu-id="ea68b-199">页面中的注册离开次数</span><span class="sxs-lookup"><span data-stu-id="ea68b-199">The number of registration leaves in the page</span></span>
<span data-ttu-id="ea68b-200">项</span><span class="sxs-lookup"><span data-stu-id="ea68b-200">items</span></span>  | <span data-ttu-id="ea68b-201">对象数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-201">array of objects</span></span> | <span data-ttu-id="ea68b-202">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-202">no</span></span>       | <span data-ttu-id="ea68b-203">注册叶数组及其关联元数据</span><span class="sxs-lookup"><span data-stu-id="ea68b-203">The array of registration leaves and their associate metadata</span></span>
<span data-ttu-id="ea68b-204">下移</span><span class="sxs-lookup"><span data-stu-id="ea68b-204">lower</span></span>  | <span data-ttu-id="ea68b-205">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-205">string</span></span>           | <span data-ttu-id="ea68b-206">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-206">yes</span></span>      | <span data-ttu-id="ea68b-207">页面中的最低 SemVer 2.0.0 版本（包含）</span><span class="sxs-lookup"><span data-stu-id="ea68b-207">The lowest SemVer 2.0.0 version in the page (inclusive)</span></span>
<span data-ttu-id="ea68b-208">父级 (parent)</span><span class="sxs-lookup"><span data-stu-id="ea68b-208">parent</span></span> | <span data-ttu-id="ea68b-209">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-209">string</span></span>           | <span data-ttu-id="ea68b-210">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-210">no</span></span>       | <span data-ttu-id="ea68b-211">注册索引的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-211">The URL to the registration index</span></span>
<span data-ttu-id="ea68b-212">左上</span><span class="sxs-lookup"><span data-stu-id="ea68b-212">upper</span></span>  | <span data-ttu-id="ea68b-213">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-213">string</span></span>           | <span data-ttu-id="ea68b-214">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-214">yes</span></span>      | <span data-ttu-id="ea68b-215">页面中的 SemVer 2.0.0 的最高版本（包含）</span><span class="sxs-lookup"><span data-stu-id="ea68b-215">The highest SemVer 2.0.0 version in the page (inclusive)</span></span>

<span data-ttu-id="ea68b-216">当需要特定页面版本的元数据时，page 对象的 `lower` 和 `upper` 界限非常有用。</span><span class="sxs-lookup"><span data-stu-id="ea68b-216">The `lower` and `upper` bounds of the page object are useful when the metadata for a specific page version is needed.</span></span>
<span data-ttu-id="ea68b-217">这些界限可用于提取所需的唯一注册页面。</span><span class="sxs-lookup"><span data-stu-id="ea68b-217">These bounds can be used to fetch the only registration page needed.</span></span> <span data-ttu-id="ea68b-218">版本字符串遵循[NuGet 的版本规则](../concepts/package-versioning.md)。</span><span class="sxs-lookup"><span data-stu-id="ea68b-218">The version strings adhere to [NuGet's version rules](../concepts/package-versioning.md).</span></span> <span data-ttu-id="ea68b-219">版本字符串已规范化，不包括生成元数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-219">The version strings are normalized and do not include build metadata.</span></span> <span data-ttu-id="ea68b-220">与 NuGet 生态系统中的所有版本一样，版本字符串的比较是使用[SemVer 2.0.0 的版本优先规则](https://semver.org/spec/v2.0.0.html#spec-item-11)实现的。</span><span class="sxs-lookup"><span data-stu-id="ea68b-220">As with all versions in the NuGet ecosystem, comparison of version strings is implemented using [SemVer 2.0.0's version precedence rules](https://semver.org/spec/v2.0.0.html#spec-item-11).</span></span>

<span data-ttu-id="ea68b-221">仅当注册页对象具有 `items` 属性时才会显示 "`parent`" 属性。</span><span class="sxs-lookup"><span data-stu-id="ea68b-221">The `parent` property will only appear if the registration page object has the `items` property.</span></span>

<span data-ttu-id="ea68b-222">如果注册页对象中不存在 `items` 属性，则必须使用 `@id` 中指定的 URL 来获取有关各个包版本的元数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-222">If the `items` property is not present in the registration page object, the URL specified in the `@id` must be used to fetch metadata about individual package versions.</span></span> <span data-ttu-id="ea68b-223">有时 `items` 数组作为优化从页面对象中排除。</span><span class="sxs-lookup"><span data-stu-id="ea68b-223">The `items` array is sometimes excluded from the page object as an optimization.</span></span> <span data-ttu-id="ea68b-224">如果单个包 ID 的版本数非常大，则对于只关心特定版本或少量版本的客户端，注册索引文档将会很大，并且会浪费大量的信息。</span><span class="sxs-lookup"><span data-stu-id="ea68b-224">If the number of versions of a single package ID is very large, then the registration index document will be massive and wasteful to process for a client that only cares about a specific version or small range of versions.</span></span>

<span data-ttu-id="ea68b-225">请注意，如果存在 `items` 属性，则不需要使用 `@id` 属性，因为所有页面数据都已在 `items` 属性中内联。</span><span class="sxs-lookup"><span data-stu-id="ea68b-225">Note that if the `items` property is present, the `@id` property need not be used, since all of the page data is already inlined in the `items` property.</span></span>

<span data-ttu-id="ea68b-226">Page 对象的 `items` 数组中的每一项都是一个表示注册叶及其关联元数据的 JSON 对象。</span><span class="sxs-lookup"><span data-stu-id="ea68b-226">Each item in the page object's `items` array is a JSON object representing a registration leaf and it's associated metadata.</span></span>

#### <a name="registration-leaf-object-in-a-page"></a><span data-ttu-id="ea68b-227">页中的注册叶对象</span><span class="sxs-lookup"><span data-stu-id="ea68b-227">Registration leaf object in a page</span></span>

<span data-ttu-id="ea68b-228">在注册页中找到的注册叶对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="ea68b-228">The registration leaf object found in a registration page has the following properties:</span></span>

<span data-ttu-id="ea68b-229">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-229">Name</span></span>           | <span data-ttu-id="ea68b-230">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-230">Type</span></span>   | <span data-ttu-id="ea68b-231">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-231">Required</span></span> | <span data-ttu-id="ea68b-232">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-232">Notes</span></span>
-------------- | ------ | -------- | -----
@id            | <span data-ttu-id="ea68b-233">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-233">string</span></span> | <span data-ttu-id="ea68b-234">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-234">yes</span></span>      | <span data-ttu-id="ea68b-235">注册叶的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-235">The URL to the registration leaf</span></span>
<span data-ttu-id="ea68b-236">catalogEntry</span><span class="sxs-lookup"><span data-stu-id="ea68b-236">catalogEntry</span></span>   | <span data-ttu-id="ea68b-237">对象</span><span class="sxs-lookup"><span data-stu-id="ea68b-237">object</span></span> | <span data-ttu-id="ea68b-238">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-238">yes</span></span>      | <span data-ttu-id="ea68b-239">包含包元数据的目录条目</span><span class="sxs-lookup"><span data-stu-id="ea68b-239">The catalog entry containing the package metadata</span></span>
<span data-ttu-id="ea68b-240">packageContent</span><span class="sxs-lookup"><span data-stu-id="ea68b-240">packageContent</span></span> | <span data-ttu-id="ea68b-241">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-241">string</span></span> | <span data-ttu-id="ea68b-242">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-242">yes</span></span>      | <span data-ttu-id="ea68b-243">包内容的 URL （. nupkg）</span><span class="sxs-lookup"><span data-stu-id="ea68b-243">The URL to the package content (.nupkg)</span></span>

<span data-ttu-id="ea68b-244">每个注册叶对象均表示与单个包版本关联的数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-244">Each registration leaf object represents data associated with a single package version.</span></span>

#### <a name="catalog-entry"></a><span data-ttu-id="ea68b-245">目录条目</span><span class="sxs-lookup"><span data-stu-id="ea68b-245">Catalog entry</span></span>

<span data-ttu-id="ea68b-246">注册叶对象中的 `catalogEntry` 属性具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="ea68b-246">The `catalogEntry` property in the registration leaf object has the following properties:</span></span>

<span data-ttu-id="ea68b-247">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-247">Name</span></span>                     | <span data-ttu-id="ea68b-248">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-248">Type</span></span>                       | <span data-ttu-id="ea68b-249">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-249">Required</span></span> | <span data-ttu-id="ea68b-250">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-250">Notes</span></span>
------------------------ | -------------------------- | -------- | -----
@id                      | <span data-ttu-id="ea68b-251">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-251">string</span></span>                     | <span data-ttu-id="ea68b-252">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-252">yes</span></span>      | <span data-ttu-id="ea68b-253">用于生成此对象的文档的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-253">The URL to the document used to produce this object</span></span>
<span data-ttu-id="ea68b-254">authors</span><span class="sxs-lookup"><span data-stu-id="ea68b-254">authors</span></span>                  | <span data-ttu-id="ea68b-255">字符串或字符串数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-255">string or array of strings</span></span> | <span data-ttu-id="ea68b-256">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-256">no</span></span>       | 
<span data-ttu-id="ea68b-257">dependencyGroups</span><span class="sxs-lookup"><span data-stu-id="ea68b-257">dependencyGroups</span></span>         | <span data-ttu-id="ea68b-258">对象数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-258">array of objects</span></span>           | <span data-ttu-id="ea68b-259">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-259">no</span></span>       | <span data-ttu-id="ea68b-260">包的依赖项，按目标框架分组</span><span class="sxs-lookup"><span data-stu-id="ea68b-260">The dependencies of the package, grouped by target framework</span></span>
<span data-ttu-id="ea68b-261">弃用</span><span class="sxs-lookup"><span data-stu-id="ea68b-261">deprecation</span></span>              | <span data-ttu-id="ea68b-262">对象</span><span class="sxs-lookup"><span data-stu-id="ea68b-262">object</span></span>                     | <span data-ttu-id="ea68b-263">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-263">no</span></span>       | <span data-ttu-id="ea68b-264">与包关联的弃用</span><span class="sxs-lookup"><span data-stu-id="ea68b-264">The deprecation associated with the package</span></span>
<span data-ttu-id="ea68b-265">说明</span><span class="sxs-lookup"><span data-stu-id="ea68b-265">description</span></span>              | <span data-ttu-id="ea68b-266">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-266">string</span></span>                     | <span data-ttu-id="ea68b-267">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-267">no</span></span>       | 
<span data-ttu-id="ea68b-268">iconUrl</span><span class="sxs-lookup"><span data-stu-id="ea68b-268">iconUrl</span></span>                  | <span data-ttu-id="ea68b-269">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-269">string</span></span>                     | <span data-ttu-id="ea68b-270">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-270">no</span></span>       | 
<span data-ttu-id="ea68b-271">ID</span><span class="sxs-lookup"><span data-stu-id="ea68b-271">id</span></span>                       | <span data-ttu-id="ea68b-272">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-272">string</span></span>                     | <span data-ttu-id="ea68b-273">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-273">yes</span></span>      | <span data-ttu-id="ea68b-274">包的 ID</span><span class="sxs-lookup"><span data-stu-id="ea68b-274">The ID of the package</span></span>
<span data-ttu-id="ea68b-275">licenseUrl</span><span class="sxs-lookup"><span data-stu-id="ea68b-275">licenseUrl</span></span>               | <span data-ttu-id="ea68b-276">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-276">string</span></span>                     | <span data-ttu-id="ea68b-277">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-277">no</span></span>       |
<span data-ttu-id="ea68b-278">licenseExpression</span><span class="sxs-lookup"><span data-stu-id="ea68b-278">licenseExpression</span></span>        | <span data-ttu-id="ea68b-279">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-279">string</span></span>                     | <span data-ttu-id="ea68b-280">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-280">no</span></span>       | 
<span data-ttu-id="ea68b-281">列出的</span><span class="sxs-lookup"><span data-stu-id="ea68b-281">listed</span></span>                   | <span data-ttu-id="ea68b-282">boolean</span><span class="sxs-lookup"><span data-stu-id="ea68b-282">boolean</span></span>                    | <span data-ttu-id="ea68b-283">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-283">no</span></span>       | <span data-ttu-id="ea68b-284">如果不存在，则应将其视为列出</span><span class="sxs-lookup"><span data-stu-id="ea68b-284">Should be considered as listed if absent</span></span>
<span data-ttu-id="ea68b-285">minClientVersion</span><span class="sxs-lookup"><span data-stu-id="ea68b-285">minClientVersion</span></span>         | <span data-ttu-id="ea68b-286">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-286">string</span></span>                     | <span data-ttu-id="ea68b-287">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-287">no</span></span>       | 
<span data-ttu-id="ea68b-288">projectUrl</span><span class="sxs-lookup"><span data-stu-id="ea68b-288">projectUrl</span></span>               | <span data-ttu-id="ea68b-289">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-289">string</span></span>                     | <span data-ttu-id="ea68b-290">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-290">no</span></span>       | 
<span data-ttu-id="ea68b-291">published</span><span class="sxs-lookup"><span data-stu-id="ea68b-291">published</span></span>                | <span data-ttu-id="ea68b-292">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-292">string</span></span>                     | <span data-ttu-id="ea68b-293">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-293">no</span></span>       | <span data-ttu-id="ea68b-294">一个字符串，其中包含发布包时的 ISO 8601 时间戳</span><span class="sxs-lookup"><span data-stu-id="ea68b-294">A string containing a ISO 8601 timestamp of when the package was published</span></span>
<span data-ttu-id="ea68b-295">requireLicenseAcceptance</span><span class="sxs-lookup"><span data-stu-id="ea68b-295">requireLicenseAcceptance</span></span> | <span data-ttu-id="ea68b-296">boolean</span><span class="sxs-lookup"><span data-stu-id="ea68b-296">boolean</span></span>                    | <span data-ttu-id="ea68b-297">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-297">no</span></span>       | 
<span data-ttu-id="ea68b-298">摘要</span><span class="sxs-lookup"><span data-stu-id="ea68b-298">summary</span></span>                  | <span data-ttu-id="ea68b-299">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-299">string</span></span>                     | <span data-ttu-id="ea68b-300">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-300">no</span></span>       | 
<span data-ttu-id="ea68b-301">标记</span><span class="sxs-lookup"><span data-stu-id="ea68b-301">tags</span></span>                     | <span data-ttu-id="ea68b-302">字符串或字符串数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-302">string or array of string</span></span>  | <span data-ttu-id="ea68b-303">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-303">no</span></span>       | 
<span data-ttu-id="ea68b-304">标题</span><span class="sxs-lookup"><span data-stu-id="ea68b-304">title</span></span>                    | <span data-ttu-id="ea68b-305">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-305">string</span></span>                     | <span data-ttu-id="ea68b-306">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-306">no</span></span>       | 
<span data-ttu-id="ea68b-307">版本</span><span class="sxs-lookup"><span data-stu-id="ea68b-307">version</span></span>                  | <span data-ttu-id="ea68b-308">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-308">string</span></span>                     | <span data-ttu-id="ea68b-309">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-309">yes</span></span>      | <span data-ttu-id="ea68b-310">规范化后的完整版本字符串</span><span class="sxs-lookup"><span data-stu-id="ea68b-310">The full version string after normalization</span></span>

<span data-ttu-id="ea68b-311">Package `version` 属性是规范化后的完整版本字符串。</span><span class="sxs-lookup"><span data-stu-id="ea68b-311">The package `version` property is the full version string after normalization.</span></span> <span data-ttu-id="ea68b-312">这意味着，可以在此处包括 SemVer 2.0.0 生成数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-312">This means that SemVer 2.0.0 build data can be included here.</span></span>

<span data-ttu-id="ea68b-313">`dependencyGroups` 属性是对象的数组，这些对象表示包的依赖项，按目标框架分组。</span><span class="sxs-lookup"><span data-stu-id="ea68b-313">The `dependencyGroups` property is an array of objects representing the dependencies of the package, grouped by target framework.</span></span> <span data-ttu-id="ea68b-314">如果包没有依赖项，则缺少 `dependencyGroups` 属性、空数组或所有组的 `dependencies` 属性为空或缺失。</span><span class="sxs-lookup"><span data-stu-id="ea68b-314">If the package has no dependencies, the `dependencyGroups` property is missing, an empty array, or the `dependencies` property of all groups is empty or missing.</span></span>

<span data-ttu-id="ea68b-315">`licenseExpression` 属性的值符合[NuGet 许可证表达式语法](../reference/nuspec.md#license)。</span><span class="sxs-lookup"><span data-stu-id="ea68b-315">The value of the `licenseExpression` property complies with [NuGet license expression syntax](../reference/nuspec.md#license).</span></span>

> [!Note]
> <span data-ttu-id="ea68b-316">在 nuget.org 上，当包未列出时，`published` 值设置为1900年。</span><span class="sxs-lookup"><span data-stu-id="ea68b-316">On nuget.org, the `published` value is set to year 1900 when the package is unlisted.</span></span>

#### <a name="package-dependency-group"></a><span data-ttu-id="ea68b-317">包依赖关系组</span><span class="sxs-lookup"><span data-stu-id="ea68b-317">Package dependency group</span></span>

<span data-ttu-id="ea68b-318">每个依赖项组对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="ea68b-318">Each dependency group object has the following properties:</span></span>

<span data-ttu-id="ea68b-319">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-319">Name</span></span>            | <span data-ttu-id="ea68b-320">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-320">Type</span></span>             | <span data-ttu-id="ea68b-321">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-321">Required</span></span> | <span data-ttu-id="ea68b-322">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-322">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="ea68b-323">targetFramework</span><span class="sxs-lookup"><span data-stu-id="ea68b-323">targetFramework</span></span> | <span data-ttu-id="ea68b-324">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-324">string</span></span>           | <span data-ttu-id="ea68b-325">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-325">no</span></span>       | <span data-ttu-id="ea68b-326">这些依赖关系适用的目标框架</span><span class="sxs-lookup"><span data-stu-id="ea68b-326">The target framework that these dependencies are applicable to</span></span>
<span data-ttu-id="ea68b-327">依赖关系</span><span class="sxs-lookup"><span data-stu-id="ea68b-327">dependencies</span></span>    | <span data-ttu-id="ea68b-328">对象数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-328">array of objects</span></span> | <span data-ttu-id="ea68b-329">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-329">no</span></span>       |

<span data-ttu-id="ea68b-330">`targetFramework` 字符串使用 NuGet 的 .NET 库[nuget](https://www.nuget.org/packages/NuGet.Frameworks/)所实现的格式。</span><span class="sxs-lookup"><span data-stu-id="ea68b-330">The `targetFramework` string uses the format implemented by NuGet's .NET library [NuGet.Frameworks](https://www.nuget.org/packages/NuGet.Frameworks/).</span></span> <span data-ttu-id="ea68b-331">如果未指定 `targetFramework`，则依赖项组适用于所有目标框架。</span><span class="sxs-lookup"><span data-stu-id="ea68b-331">If no `targetFramework` is specified, the dependency group applies to all target frameworks.</span></span>

<span data-ttu-id="ea68b-332">`dependencies` 属性是对象的数组，每个对象表示当前包的包依赖项。</span><span class="sxs-lookup"><span data-stu-id="ea68b-332">The `dependencies` property is an array of objects, each representing a package dependency of the current package.</span></span>

#### <a name="package-dependency"></a><span data-ttu-id="ea68b-333">包依赖关系</span><span class="sxs-lookup"><span data-stu-id="ea68b-333">Package dependency</span></span>

<span data-ttu-id="ea68b-334">每个包依赖项都具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="ea68b-334">Each package dependency has the following properties:</span></span>

<span data-ttu-id="ea68b-335">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-335">Name</span></span>         | <span data-ttu-id="ea68b-336">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-336">Type</span></span>   | <span data-ttu-id="ea68b-337">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-337">Required</span></span> | <span data-ttu-id="ea68b-338">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-338">Notes</span></span>
------------ | ------ | -------- | -----
<span data-ttu-id="ea68b-339">ID</span><span class="sxs-lookup"><span data-stu-id="ea68b-339">id</span></span>           | <span data-ttu-id="ea68b-340">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-340">string</span></span> | <span data-ttu-id="ea68b-341">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-341">yes</span></span>      | <span data-ttu-id="ea68b-342">包依赖项的 ID</span><span class="sxs-lookup"><span data-stu-id="ea68b-342">The ID of the package dependency</span></span>
<span data-ttu-id="ea68b-343">range</span><span class="sxs-lookup"><span data-stu-id="ea68b-343">range</span></span>        | <span data-ttu-id="ea68b-344">对象</span><span class="sxs-lookup"><span data-stu-id="ea68b-344">object</span></span> | <span data-ttu-id="ea68b-345">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-345">no</span></span>       | <span data-ttu-id="ea68b-346">依赖项的允许[版本范围](../concepts/package-versioning.md#version-ranges-and-wildcards)</span><span class="sxs-lookup"><span data-stu-id="ea68b-346">The allowed [version range](../concepts/package-versioning.md#version-ranges-and-wildcards) of the dependency</span></span>
<span data-ttu-id="ea68b-347">注册</span><span class="sxs-lookup"><span data-stu-id="ea68b-347">registration</span></span> | <span data-ttu-id="ea68b-348">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-348">string</span></span> | <span data-ttu-id="ea68b-349">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-349">no</span></span>       | <span data-ttu-id="ea68b-350">此依赖项的注册索引的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-350">The URL to the registration index for this dependency</span></span>

<span data-ttu-id="ea68b-351">如果已排除 `range` 属性或空字符串，则客户端应默认为版本范围 `(, )`。</span><span class="sxs-lookup"><span data-stu-id="ea68b-351">If the `range` property is excluded or an empty string, the client should default to the version range `(, )`.</span></span> <span data-ttu-id="ea68b-352">也就是说，允许使用任何版本的依赖项。</span><span class="sxs-lookup"><span data-stu-id="ea68b-352">That is, any version of the dependency is allowed.</span></span> <span data-ttu-id="ea68b-353">`range` 属性不允许 `*` 的值。</span><span class="sxs-lookup"><span data-stu-id="ea68b-353">The value of `*` is not allowed for the `range` property.</span></span>

#### <a name="package-deprecation"></a><span data-ttu-id="ea68b-354">包弃用</span><span class="sxs-lookup"><span data-stu-id="ea68b-354">Package deprecation</span></span>

<span data-ttu-id="ea68b-355">每个包弃用都具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="ea68b-355">Each package deprecation has the following properties:</span></span>

<span data-ttu-id="ea68b-356">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-356">Name</span></span>             | <span data-ttu-id="ea68b-357">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-357">Type</span></span>             | <span data-ttu-id="ea68b-358">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-358">Required</span></span> | <span data-ttu-id="ea68b-359">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-359">Notes</span></span>
---------------- | ---------------- | -------- | -----
<span data-ttu-id="ea68b-360">原因</span><span class="sxs-lookup"><span data-stu-id="ea68b-360">reasons</span></span>          | <span data-ttu-id="ea68b-361">字符串数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-361">array of strings</span></span> | <span data-ttu-id="ea68b-362">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-362">yes</span></span>      | <span data-ttu-id="ea68b-363">弃用包的原因</span><span class="sxs-lookup"><span data-stu-id="ea68b-363">The reasons why the package was deprecated</span></span>
<span data-ttu-id="ea68b-364">消息</span><span class="sxs-lookup"><span data-stu-id="ea68b-364">message</span></span>          | <span data-ttu-id="ea68b-365">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-365">string</span></span>           | <span data-ttu-id="ea68b-366">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-366">no</span></span>       | <span data-ttu-id="ea68b-367">有关此弃用的其他详细信息</span><span class="sxs-lookup"><span data-stu-id="ea68b-367">The additional details about this deprecation</span></span>
<span data-ttu-id="ea68b-368">alternatePackage</span><span class="sxs-lookup"><span data-stu-id="ea68b-368">alternatePackage</span></span> | <span data-ttu-id="ea68b-369">对象</span><span class="sxs-lookup"><span data-stu-id="ea68b-369">object</span></span>           | <span data-ttu-id="ea68b-370">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-370">no</span></span>       | <span data-ttu-id="ea68b-371">应改为使用的备用包</span><span class="sxs-lookup"><span data-stu-id="ea68b-371">The alternate package that should be used instead</span></span>

<span data-ttu-id="ea68b-372">`reasons` 属性必须包含至少一个字符串，并且只应包含下表中的字符串：</span><span class="sxs-lookup"><span data-stu-id="ea68b-372">The `reasons` property must contain at least one string and should only contains strings from the following table:</span></span>

<span data-ttu-id="ea68b-373">原因</span><span class="sxs-lookup"><span data-stu-id="ea68b-373">Reason</span></span>       | <span data-ttu-id="ea68b-374">描述</span><span class="sxs-lookup"><span data-stu-id="ea68b-374">Description</span></span>             
------------ | -----------
<span data-ttu-id="ea68b-375">旧版</span><span class="sxs-lookup"><span data-stu-id="ea68b-375">Legacy</span></span>       | <span data-ttu-id="ea68b-376">不再维护包</span><span class="sxs-lookup"><span data-stu-id="ea68b-376">The package is no longer maintained</span></span>
<span data-ttu-id="ea68b-377">CriticalBugs</span><span class="sxs-lookup"><span data-stu-id="ea68b-377">CriticalBugs</span></span> | <span data-ttu-id="ea68b-378">包中的 bug 使其不适用于使用</span><span class="sxs-lookup"><span data-stu-id="ea68b-378">The package has bugs which make it unsuitable for usage</span></span>
<span data-ttu-id="ea68b-379">其他</span><span class="sxs-lookup"><span data-stu-id="ea68b-379">Other</span></span>        | <span data-ttu-id="ea68b-380">由于未在此列表中的原因，包已弃用</span><span class="sxs-lookup"><span data-stu-id="ea68b-380">The package is deprecated due to a reason not on this list</span></span>

<span data-ttu-id="ea68b-381">如果 `reasons` 属性包含不是来自已知集的字符串，则应将其忽略。</span><span class="sxs-lookup"><span data-stu-id="ea68b-381">If the `reasons` property contains strings that are not from the known set, they should be ignored.</span></span> <span data-ttu-id="ea68b-382">字符串不区分大小写，因此应将 `legacy` 视为与 `Legacy`相同。</span><span class="sxs-lookup"><span data-stu-id="ea68b-382">The strings are case-insensitive, so `legacy` should be treated the same as `Legacy`.</span></span> <span data-ttu-id="ea68b-383">数组没有排序限制，因此字符串可以任意顺序排列。</span><span class="sxs-lookup"><span data-stu-id="ea68b-383">There is no ordering restriction on the array, so the strings can arranged in any arbitrary order.</span></span> <span data-ttu-id="ea68b-384">此外，如果属性仅包含不来自已知集的字符串，则应将其视为只包含 "其他" 字符串。</span><span class="sxs-lookup"><span data-stu-id="ea68b-384">Additionally, if the property contains only strings that are not from the known set, it should be treated as if it only contained the "Other" string.</span></span>

#### <a name="alternate-package"></a><span data-ttu-id="ea68b-385">备用包</span><span class="sxs-lookup"><span data-stu-id="ea68b-385">Alternate package</span></span>

<span data-ttu-id="ea68b-386">备用包对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="ea68b-386">The alternate package object has the following properties:</span></span>

<span data-ttu-id="ea68b-387">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-387">Name</span></span>         | <span data-ttu-id="ea68b-388">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-388">Type</span></span>   | <span data-ttu-id="ea68b-389">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-389">Required</span></span> | <span data-ttu-id="ea68b-390">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-390">Notes</span></span>
------------ | ------ | -------- | -----
<span data-ttu-id="ea68b-391">ID</span><span class="sxs-lookup"><span data-stu-id="ea68b-391">id</span></span>           | <span data-ttu-id="ea68b-392">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-392">string</span></span> | <span data-ttu-id="ea68b-393">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-393">yes</span></span>      | <span data-ttu-id="ea68b-394">备用包的 ID</span><span class="sxs-lookup"><span data-stu-id="ea68b-394">The ID of the alternate package</span></span>
<span data-ttu-id="ea68b-395">range</span><span class="sxs-lookup"><span data-stu-id="ea68b-395">range</span></span>        | <span data-ttu-id="ea68b-396">对象</span><span class="sxs-lookup"><span data-stu-id="ea68b-396">object</span></span> | <span data-ttu-id="ea68b-397">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-397">no</span></span>       | <span data-ttu-id="ea68b-398">允许的[版本范围](../concepts/package-versioning.md#version-ranges-and-wildcards)，或在允许任何版本的情况下 `*`</span><span class="sxs-lookup"><span data-stu-id="ea68b-398">The allowed [version range](../concepts/package-versioning.md#version-ranges-and-wildcards), or `*` if any version is allowed</span></span>
<span data-ttu-id="ea68b-399">注册</span><span class="sxs-lookup"><span data-stu-id="ea68b-399">registration</span></span> | <span data-ttu-id="ea68b-400">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-400">string</span></span> | <span data-ttu-id="ea68b-401">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-401">no</span></span>       | <span data-ttu-id="ea68b-402">此备用包的注册索引的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-402">The URL to the registration index for this alternate package</span></span>

### <a name="sample-request"></a><span data-ttu-id="ea68b-403">示例请求</span><span class="sxs-lookup"><span data-stu-id="ea68b-403">Sample request</span></span>

    GET https://api.nuget.org/v3/registration3/nuget.server.core/index.json

### <a name="sample-response"></a><span data-ttu-id="ea68b-404">示例响应</span><span class="sxs-lookup"><span data-stu-id="ea68b-404">Sample response</span></span>

[!code-JSON [package-registration-index.json](./_data/package-registration-index.json)]

<span data-ttu-id="ea68b-405">在这种特定情况下，注册索引会内嵌注册页面，因此，提取有关各个包版本的元数据不需要额外的请求。</span><span class="sxs-lookup"><span data-stu-id="ea68b-405">In this particular case, the registration index has the registration page inlined so no extra requests are needed to fetch metadata about individual package versions.</span></span>

## <a name="registration-page"></a><span data-ttu-id="ea68b-406">注册页</span><span class="sxs-lookup"><span data-stu-id="ea68b-406">Registration page</span></span>

<span data-ttu-id="ea68b-407">注册页面包含注册离开。</span><span class="sxs-lookup"><span data-stu-id="ea68b-407">The registration page contains registration leaves.</span></span> <span data-ttu-id="ea68b-408">用于提取注册页的 URL 由前面提到的[注册页对象](#registration-page-object)中的 `@id` 属性确定。</span><span class="sxs-lookup"><span data-stu-id="ea68b-408">The URL to fetch a registration page is determined by the `@id` property in the [registration page object](#registration-page-object) mentioned above.</span></span> <span data-ttu-id="ea68b-409">此 URL 并不是可预测的，应始终通过索引文档来发现。</span><span class="sxs-lookup"><span data-stu-id="ea68b-409">The URL is not meant to be predictable and should always be discovered by means of the index document.</span></span>

> [!Warning]
> <span data-ttu-id="ea68b-410">在 nuget.org 上，注册页文档恰巧的 URL 包含该页的下限和上限。</span><span class="sxs-lookup"><span data-stu-id="ea68b-410">On nuget.org, the URL for the registration page document coincidentally contains the lower and upper bound of the page.</span></span> <span data-ttu-id="ea68b-411">不过，客户端永远不应执行此假设，因为只要索引文档具有有效的链接，服务器实现就可以随意更改 URL 的形状。</span><span class="sxs-lookup"><span data-stu-id="ea68b-411">However this assumption should never be made by a client since server implementations are free to change the shape of the URL as long as the index document has a valid link.</span></span>

<span data-ttu-id="ea68b-412">如果注册索引中未提供 `items` 数组，则 `@id` 值的 HTTP GET 请求将返回一个 JSON 文档，该文档具有作为其根的对象。</span><span class="sxs-lookup"><span data-stu-id="ea68b-412">When the `items` array is not provided in the registration index, an HTTP GET request of the `@id` value will return a JSON document which has an object as its root.</span></span> <span data-ttu-id="ea68b-413">对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="ea68b-413">The object has the following properties:</span></span>

<span data-ttu-id="ea68b-414">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-414">Name</span></span>   | <span data-ttu-id="ea68b-415">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-415">Type</span></span>             | <span data-ttu-id="ea68b-416">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-416">Required</span></span> | <span data-ttu-id="ea68b-417">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-417">Notes</span></span>
------ | ---------------- | -------- | -----
@id    | <span data-ttu-id="ea68b-418">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-418">string</span></span>           | <span data-ttu-id="ea68b-419">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-419">yes</span></span>      | <span data-ttu-id="ea68b-420">注册页的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-420">The URL to the registration page</span></span>
<span data-ttu-id="ea68b-421">count</span><span class="sxs-lookup"><span data-stu-id="ea68b-421">count</span></span>  | <span data-ttu-id="ea68b-422">整数</span><span class="sxs-lookup"><span data-stu-id="ea68b-422">integer</span></span>          | <span data-ttu-id="ea68b-423">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-423">yes</span></span>      | <span data-ttu-id="ea68b-424">页面中的注册离开次数</span><span class="sxs-lookup"><span data-stu-id="ea68b-424">The number of registration leaves in the page</span></span>
<span data-ttu-id="ea68b-425">项</span><span class="sxs-lookup"><span data-stu-id="ea68b-425">items</span></span>  | <span data-ttu-id="ea68b-426">对象数组</span><span class="sxs-lookup"><span data-stu-id="ea68b-426">array of objects</span></span> | <span data-ttu-id="ea68b-427">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-427">yes</span></span>      | <span data-ttu-id="ea68b-428">注册叶数组及其关联元数据</span><span class="sxs-lookup"><span data-stu-id="ea68b-428">The array of registration leaves and their associate metadata</span></span>
<span data-ttu-id="ea68b-429">下移</span><span class="sxs-lookup"><span data-stu-id="ea68b-429">lower</span></span>  | <span data-ttu-id="ea68b-430">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-430">string</span></span>           | <span data-ttu-id="ea68b-431">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-431">yes</span></span>      | <span data-ttu-id="ea68b-432">页面中的最低 SemVer 2.0.0 版本（包含）</span><span class="sxs-lookup"><span data-stu-id="ea68b-432">The lowest SemVer 2.0.0 version in the page (inclusive)</span></span>
<span data-ttu-id="ea68b-433">父级 (parent)</span><span class="sxs-lookup"><span data-stu-id="ea68b-433">parent</span></span> | <span data-ttu-id="ea68b-434">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-434">string</span></span>           | <span data-ttu-id="ea68b-435">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-435">yes</span></span>      | <span data-ttu-id="ea68b-436">注册索引的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-436">The URL to the registration index</span></span>
<span data-ttu-id="ea68b-437">左上</span><span class="sxs-lookup"><span data-stu-id="ea68b-437">upper</span></span>  | <span data-ttu-id="ea68b-438">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-438">string</span></span>           | <span data-ttu-id="ea68b-439">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-439">yes</span></span>      | <span data-ttu-id="ea68b-440">页面中的 SemVer 2.0.0 的最高版本（包含）</span><span class="sxs-lookup"><span data-stu-id="ea68b-440">The highest SemVer 2.0.0 version in the page (inclusive)</span></span>

<span data-ttu-id="ea68b-441">注册叶对象的形状与[上面](#registration-leaf-object-in-a-page)的注册索引相同。</span><span class="sxs-lookup"><span data-stu-id="ea68b-441">The shape of the registration leaf objects is the same as in the registration index [above](#registration-leaf-object-in-a-page).</span></span>

## <a name="sample-request"></a><span data-ttu-id="ea68b-442">示例请求</span><span class="sxs-lookup"><span data-stu-id="ea68b-442">Sample request</span></span>

    GET https://api.nuget.org/v3/registration3/ravendb.client/page/1.0.531/1.0.729-unstable.json

## <a name="sample-response"></a><span data-ttu-id="ea68b-443">示例响应</span><span class="sxs-lookup"><span data-stu-id="ea68b-443">Sample response</span></span>

[!code-JSON [package-registration-page.json](./_data/package-registration-page.json)]

## <a name="registration-leaf"></a><span data-ttu-id="ea68b-444">注册叶</span><span class="sxs-lookup"><span data-stu-id="ea68b-444">Registration leaf</span></span>

<span data-ttu-id="ea68b-445">注册叶包含有关特定包 ID 和版本的信息。</span><span class="sxs-lookup"><span data-stu-id="ea68b-445">The registration leaf contains information about a specific package ID and version.</span></span> <span data-ttu-id="ea68b-446">有关特定版本的元数据在本文档中可能不可用。</span><span class="sxs-lookup"><span data-stu-id="ea68b-446">The metadata about the specific version may not be available in this document.</span></span> <span data-ttu-id="ea68b-447">应该从[注册索引](#registration-index)或[注册页](#registration-page)（使用注册索引发现）提取包元数据。</span><span class="sxs-lookup"><span data-stu-id="ea68b-447">Package metadata should be fetched from the [registration index](#registration-index) or the [registration page](#registration-page) (which is discovered using the registration index).</span></span>

<span data-ttu-id="ea68b-448">提取注册叶的 URL 是从注册索引或注册页中注册叶对象的 `@id` 属性获取的。</span><span class="sxs-lookup"><span data-stu-id="ea68b-448">The URL to fetch a registration leaf is obtained from the `@id` property of a registration leaf object in either a registration index or registration page.</span></span> <span data-ttu-id="ea68b-449">与页面文档一样。</span><span class="sxs-lookup"><span data-stu-id="ea68b-449">As with the page document.</span></span> <span data-ttu-id="ea68b-450">此 URL 并不是可预测的，应始终通过注册页对象来发现。</span><span class="sxs-lookup"><span data-stu-id="ea68b-450">the URL is not meant to be predictable and should always be discovered by means of the registration page object.</span></span>

> [!Warning]
> <span data-ttu-id="ea68b-451">在 nuget.org 上，注册叶文档恰巧的 URL 包含包版本。</span><span class="sxs-lookup"><span data-stu-id="ea68b-451">On nuget.org, the URL for the registration leaf document coincidentally contains the package version.</span></span> <span data-ttu-id="ea68b-452">不过，客户端永远不应执行此假设，因为只要父文档具有有效的链接，服务器实现就可以随意更改 URL 的形状。</span><span class="sxs-lookup"><span data-stu-id="ea68b-452">However this assumption should never be made by a client since server implementations are free to change the shape of the URL as long as the parent document has a valid link.</span></span> 

<span data-ttu-id="ea68b-453">注册叶是包含具有以下属性的根对象的 JSON 文档：</span><span class="sxs-lookup"><span data-stu-id="ea68b-453">The registration leaf is a JSON document with a root object with the following properties:</span></span>

<span data-ttu-id="ea68b-454">Name</span><span class="sxs-lookup"><span data-stu-id="ea68b-454">Name</span></span>           | <span data-ttu-id="ea68b-455">类型</span><span class="sxs-lookup"><span data-stu-id="ea68b-455">Type</span></span>    | <span data-ttu-id="ea68b-456">必需</span><span class="sxs-lookup"><span data-stu-id="ea68b-456">Required</span></span> | <span data-ttu-id="ea68b-457">注释</span><span class="sxs-lookup"><span data-stu-id="ea68b-457">Notes</span></span>
-------------- | ------- | -------- | -----
@id            | <span data-ttu-id="ea68b-458">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-458">string</span></span>  | <span data-ttu-id="ea68b-459">是</span><span class="sxs-lookup"><span data-stu-id="ea68b-459">yes</span></span>      | <span data-ttu-id="ea68b-460">注册叶的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-460">The URL to the registration leaf</span></span>
<span data-ttu-id="ea68b-461">catalogEntry</span><span class="sxs-lookup"><span data-stu-id="ea68b-461">catalogEntry</span></span>   | <span data-ttu-id="ea68b-462">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-462">string</span></span>  | <span data-ttu-id="ea68b-463">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-463">no</span></span>       | <span data-ttu-id="ea68b-464">生成这些叶的目录条目的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-464">The URL to the catalog entry that produced these leaf</span></span>
<span data-ttu-id="ea68b-465">列出的</span><span class="sxs-lookup"><span data-stu-id="ea68b-465">listed</span></span>         | <span data-ttu-id="ea68b-466">boolean</span><span class="sxs-lookup"><span data-stu-id="ea68b-466">boolean</span></span> | <span data-ttu-id="ea68b-467">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-467">no</span></span>       | <span data-ttu-id="ea68b-468">如果不存在，则应将其视为列出</span><span class="sxs-lookup"><span data-stu-id="ea68b-468">Should be considered as listed if absent</span></span>
<span data-ttu-id="ea68b-469">packageContent</span><span class="sxs-lookup"><span data-stu-id="ea68b-469">packageContent</span></span> | <span data-ttu-id="ea68b-470">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-470">string</span></span>  | <span data-ttu-id="ea68b-471">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-471">no</span></span>       | <span data-ttu-id="ea68b-472">包内容的 URL （. nupkg）</span><span class="sxs-lookup"><span data-stu-id="ea68b-472">The URL to the package content (.nupkg)</span></span>
<span data-ttu-id="ea68b-473">published</span><span class="sxs-lookup"><span data-stu-id="ea68b-473">published</span></span>      | <span data-ttu-id="ea68b-474">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-474">string</span></span>  | <span data-ttu-id="ea68b-475">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-475">no</span></span>       | <span data-ttu-id="ea68b-476">一个字符串，其中包含发布包时的 ISO 8601 时间戳</span><span class="sxs-lookup"><span data-stu-id="ea68b-476">A string containing a ISO 8601 timestamp of when the package was published</span></span>
<span data-ttu-id="ea68b-477">注册</span><span class="sxs-lookup"><span data-stu-id="ea68b-477">registration</span></span>   | <span data-ttu-id="ea68b-478">string</span><span class="sxs-lookup"><span data-stu-id="ea68b-478">string</span></span>  | <span data-ttu-id="ea68b-479">no</span><span class="sxs-lookup"><span data-stu-id="ea68b-479">no</span></span>       | <span data-ttu-id="ea68b-480">注册索引的 URL</span><span class="sxs-lookup"><span data-stu-id="ea68b-480">The URL to the registration index</span></span>

> [!Note]
> <span data-ttu-id="ea68b-481">在 nuget.org 上，当包未列出时，`published` 值设置为1900年。</span><span class="sxs-lookup"><span data-stu-id="ea68b-481">On nuget.org, the `published` value is set to year 1900 when the package is unlisted.</span></span>

### <a name="sample-request"></a><span data-ttu-id="ea68b-482">示例请求</span><span class="sxs-lookup"><span data-stu-id="ea68b-482">Sample request</span></span>

    GET https://api.nuget.org/v3/registration3/nuget.versioning/4.3.0.json

### <a name="sample-response"></a><span data-ttu-id="ea68b-483">示例响应</span><span class="sxs-lookup"><span data-stu-id="ea68b-483">Sample response</span></span>

[!code-JSON [package-registration-leaf.json](./_data/package-registration-leaf.json)]
