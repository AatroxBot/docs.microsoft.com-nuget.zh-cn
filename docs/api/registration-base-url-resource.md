---
title: 包元数据，NuGet API
description: 包注册基 URL 允许提取有关包的元数据。
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: 0b35e2bbdde63f7f7a5298bd035c180389cd345d
ms.sourcegitcommit: 2a9d149bc6f5ff76b0b657324820bd0429cddeef
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/01/2019
ms.locfileid: "67496501"
---
# <a name="package-metadata"></a><span data-ttu-id="f3796-103">包元数据</span><span class="sxs-lookup"><span data-stu-id="f3796-103">Package metadata</span></span>

<span data-ttu-id="f3796-104">就可以使用 NuGet V3 API 对包源获取可用的包有关的元数据。</span><span class="sxs-lookup"><span data-stu-id="f3796-104">It is possible to fetch metadata about the packages available on a package source using the NuGet V3 API.</span></span> <span data-ttu-id="f3796-105">可以使用提取此元数据`RegistrationsBaseUrl`资源中找到[服务索引](service-index.md)。</span><span class="sxs-lookup"><span data-stu-id="f3796-105">This metadata can be fetched using the `RegistrationsBaseUrl` resource found in the [service index](service-index.md).</span></span>

<span data-ttu-id="f3796-106">文档下找到的集合`RegistrationsBaseUrl`通常称为"注册"或"注册 blob"。</span><span class="sxs-lookup"><span data-stu-id="f3796-106">The collection of the documents found under `RegistrationsBaseUrl` are often called "registrations" or "registration blobs".</span></span> <span data-ttu-id="f3796-107">下一个文档集`RegistrationsBaseUrl`被称为"注册配置单元"。</span><span class="sxs-lookup"><span data-stu-id="f3796-107">The set of documents under a single `RegistrationsBaseUrl` is referred to as a "registration hive".</span></span> <span data-ttu-id="f3796-108">注册配置单元包含有关包源上可用的每个包的所有元数据。</span><span class="sxs-lookup"><span data-stu-id="f3796-108">A registration hive contains all metadata about every package available on a package source.</span></span>

## <a name="versioning"></a><span data-ttu-id="f3796-109">版本管理</span><span class="sxs-lookup"><span data-stu-id="f3796-109">Versioning</span></span>

<span data-ttu-id="f3796-110">以下`@type`使用值：</span><span class="sxs-lookup"><span data-stu-id="f3796-110">The following `@type` values are used:</span></span>

<span data-ttu-id="f3796-111">@type 值</span><span class="sxs-lookup"><span data-stu-id="f3796-111">@type value</span></span>                     | <span data-ttu-id="f3796-112">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-112">Notes</span></span>
------------------------------- | -----
<span data-ttu-id="f3796-113">RegistrationsBaseUrl</span><span class="sxs-lookup"><span data-stu-id="f3796-113">RegistrationsBaseUrl</span></span>            | <span data-ttu-id="f3796-114">初始版本</span><span class="sxs-lookup"><span data-stu-id="f3796-114">The initial release</span></span>
<span data-ttu-id="f3796-115">RegistrationsBaseUrl/3.0.0-beta</span><span class="sxs-lookup"><span data-stu-id="f3796-115">RegistrationsBaseUrl/3.0.0-beta</span></span> | <span data-ttu-id="f3796-116">别名 `RegistrationsBaseUrl`</span><span class="sxs-lookup"><span data-stu-id="f3796-116">Alias of `RegistrationsBaseUrl`</span></span>
<span data-ttu-id="f3796-117">RegistrationsBaseUrl/3.0.0-rc</span><span class="sxs-lookup"><span data-stu-id="f3796-117">RegistrationsBaseUrl/3.0.0-rc</span></span>   | <span data-ttu-id="f3796-118">别名 `RegistrationsBaseUrl`</span><span class="sxs-lookup"><span data-stu-id="f3796-118">Alias of `RegistrationsBaseUrl`</span></span>
<span data-ttu-id="f3796-119">RegistrationsBaseUrl/3.4.0</span><span class="sxs-lookup"><span data-stu-id="f3796-119">RegistrationsBaseUrl/3.4.0</span></span>      | <span data-ttu-id="f3796-120">使用 gzip 压缩响应</span><span class="sxs-lookup"><span data-stu-id="f3796-120">Gzipped responses</span></span>
<span data-ttu-id="f3796-121">RegistrationsBaseUrl/3.6.0</span><span class="sxs-lookup"><span data-stu-id="f3796-121">RegistrationsBaseUrl/3.6.0</span></span>      | <span data-ttu-id="f3796-122">包含 SemVer 2.0.0 包</span><span class="sxs-lookup"><span data-stu-id="f3796-122">Includes SemVer 2.0.0 packages</span></span>

<span data-ttu-id="f3796-123">这表示三个不同的注册配置单元可用于各种客户端版本。</span><span class="sxs-lookup"><span data-stu-id="f3796-123">This represents three distinct registration hives available for various client versions.</span></span>

### <a name="registrationsbaseurl"></a><span data-ttu-id="f3796-124">RegistrationsBaseUrl</span><span class="sxs-lookup"><span data-stu-id="f3796-124">RegistrationsBaseUrl</span></span>

<span data-ttu-id="f3796-125">这些注册不会被压缩 (这意味着它们使用隐式`Content-Encoding: identity`)。</span><span class="sxs-lookup"><span data-stu-id="f3796-125">These registrations are not compressed (meaning they use an implied `Content-Encoding: identity`).</span></span> <span data-ttu-id="f3796-126">SemVer 2.0.0 程序包**排除**此 hive 中。</span><span class="sxs-lookup"><span data-stu-id="f3796-126">SemVer 2.0.0 packages are **excluded** from this hive.</span></span>

### <a name="registrationsbaseurl340"></a><span data-ttu-id="f3796-127">RegistrationsBaseUrl/3.4.0</span><span class="sxs-lookup"><span data-stu-id="f3796-127">RegistrationsBaseUrl/3.4.0</span></span>

<span data-ttu-id="f3796-128">使用压缩这些注册`Content-Encoding: gzip`。</span><span class="sxs-lookup"><span data-stu-id="f3796-128">These registrations are compressed using `Content-Encoding: gzip`.</span></span> <span data-ttu-id="f3796-129">SemVer 2.0.0 程序包**排除**此 hive 中。</span><span class="sxs-lookup"><span data-stu-id="f3796-129">SemVer 2.0.0 packages are **excluded** from this hive.</span></span>

### <a name="registrationsbaseurl360"></a><span data-ttu-id="f3796-130">RegistrationsBaseUrl/3.6.0</span><span class="sxs-lookup"><span data-stu-id="f3796-130">RegistrationsBaseUrl/3.6.0</span></span>

<span data-ttu-id="f3796-131">使用压缩这些注册`Content-Encoding: gzip`。</span><span class="sxs-lookup"><span data-stu-id="f3796-131">These registrations are compressed using `Content-Encoding: gzip`.</span></span> <span data-ttu-id="f3796-132">SemVer 2.0.0 程序包**包含**此配置单元中。</span><span class="sxs-lookup"><span data-stu-id="f3796-132">SemVer 2.0.0 packages are **included** in this hive.</span></span>
<span data-ttu-id="f3796-133">有关 SemVer 2.0.0 的详细信息，请参阅[nuget.org 的 SemVer 2.0.0 支持](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29)。</span><span class="sxs-lookup"><span data-stu-id="f3796-133">For more information about SemVer 2.0.0, see [SemVer 2.0.0 support for nuget.org](https://github.com/NuGet/Home/wiki/SemVer2-support-for-nuget.org-%28server-side%29).</span></span>

## <a name="base-url"></a><span data-ttu-id="f3796-134">基 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-134">Base URL</span></span>

<span data-ttu-id="f3796-135">以下 Api 的基 URL 是的值`@id`属性与前面提到的资源相关联`@type`值。</span><span class="sxs-lookup"><span data-stu-id="f3796-135">The base URL for the following APIs is the value of the `@id` property associated with the aforementioned resource `@type` values.</span></span> <span data-ttu-id="f3796-136">在以下文档中，占位符基 URL`{@id}`将使用。</span><span class="sxs-lookup"><span data-stu-id="f3796-136">In the following document, the placeholder base URL `{@id}` will be used.</span></span>

## <a name="http-methods"></a><span data-ttu-id="f3796-137">HTTP 方法</span><span class="sxs-lookup"><span data-stu-id="f3796-137">HTTP methods</span></span>

<span data-ttu-id="f3796-138">中的注册资源支持的 HTTP 方法找到的所有 Url`GET`和`HEAD`。</span><span class="sxs-lookup"><span data-stu-id="f3796-138">All URLs found in the registration resource support the HTTP methods `GET` and `HEAD`.</span></span>

## <a name="registration-index"></a><span data-ttu-id="f3796-139">注册索引</span><span class="sxs-lookup"><span data-stu-id="f3796-139">Registration index</span></span>

<span data-ttu-id="f3796-140">注册资源组包元数据的包 id。</span><span class="sxs-lookup"><span data-stu-id="f3796-140">The registration resource groups package metadata by package ID.</span></span> <span data-ttu-id="f3796-141">不能一次获取多个包 ID 有关的数据。</span><span class="sxs-lookup"><span data-stu-id="f3796-141">It is not possible to get data about more than one package ID at a time.</span></span> <span data-ttu-id="f3796-142">此资源提供了无法发现的包 Id。</span><span class="sxs-lookup"><span data-stu-id="f3796-142">This resource provides no way to discover package IDs.</span></span> <span data-ttu-id="f3796-143">而被假定客户端已经知道所需的包 id。</span><span class="sxs-lookup"><span data-stu-id="f3796-143">Instead the client is assumed to already know the desired package ID.</span></span> <span data-ttu-id="f3796-144">有关每个包版本的可用元数据因服务器实现。</span><span class="sxs-lookup"><span data-stu-id="f3796-144">Available metadata about each package version varies by server implementation.</span></span> <span data-ttu-id="f3796-145">包注册 blob 具有以下层次结构：</span><span class="sxs-lookup"><span data-stu-id="f3796-145">The package registration blobs have the following hierarchical structure:</span></span>

- <span data-ttu-id="f3796-146">**索引**： 共享相同的包 id。 源上的所有包的包元数据的入口点</span><span class="sxs-lookup"><span data-stu-id="f3796-146">**Index**: the entry point for the package metadata, shared by all packages on a source with the same package ID.</span></span>
- <span data-ttu-id="f3796-147">**页**： 包版本的分组。</span><span class="sxs-lookup"><span data-stu-id="f3796-147">**Page**: a grouping of package versions.</span></span> <span data-ttu-id="f3796-148">在页面中的包版本数量由服务器实现定义。</span><span class="sxs-lookup"><span data-stu-id="f3796-148">The number of package versions in a page is defined by server implementation.</span></span>
- <span data-ttu-id="f3796-149">**叶**： 特定于单个包版本的文档。</span><span class="sxs-lookup"><span data-stu-id="f3796-149">**Leaf**: a document specific to a single package version.</span></span>

<span data-ttu-id="f3796-150">注册索引的 URL 是可预测，也可由客户端指定包 ID 和注册资源`@id`从服务索引的值。</span><span class="sxs-lookup"><span data-stu-id="f3796-150">The URL of the registration index is predictable and can be determined by the client given a package ID and the registration resource's `@id` value from the service index.</span></span> <span data-ttu-id="f3796-151">检查注册索引会发现的注册页面和叶的 Url。</span><span class="sxs-lookup"><span data-stu-id="f3796-151">The URLs for the registration pages and leaves are discovered by inspecting the registration index.</span></span>

### <a name="registration-pages-and-leaves"></a><span data-ttu-id="f3796-152">注册页并使</span><span class="sxs-lookup"><span data-stu-id="f3796-152">Registration pages and leaves</span></span>

<span data-ttu-id="f3796-153">尽管它并未严格要求服务器实现，用于存储注册叶中单独的注册页文档，但它是建议的做法，以节省客户端的内存。</span><span class="sxs-lookup"><span data-stu-id="f3796-153">Although it's not strictly required for a server implementation to store registration leafs in seperate registration page documents, it's a recommended practice to conserve client-side memory.</span></span> <span data-ttu-id="f3796-154">而不是初始化所有注册将留在索引或立即将使存储在页文档，建议服务器实现定义某些启发式算法以基于包的版本数的两种方法之间进行选择或使包的累积大小。</span><span class="sxs-lookup"><span data-stu-id="f3796-154">Instead of inlining all registration leaves in the index or immediately storing leaves in page documents, it's recommended that the server implementation define some heuristic to choose between the two approaches based on the number of package versions or cumulative size of package leaves.</span></span>

<span data-ttu-id="f3796-155">存储所有的包版本 （叶） 中注册索引存储上的 HTTP 请求数所需提取包元数据，但意味着，必须下载较大的文档，并且必须分配更多的客户端内存。</span><span class="sxs-lookup"><span data-stu-id="f3796-155">Storing all package versions (leaves) in the registration index saves on the number of HTTP requests necessary to fetch package metadata but means that a larger document must be downloaded and more client memory must be allocated.</span></span> <span data-ttu-id="f3796-156">但是，如果服务器实现立即将注册使存储在单独的页的文档中，客户端必须执行更多的 HTTP 请求以获取所需的信息。</span><span class="sxs-lookup"><span data-stu-id="f3796-156">On the other hand, if the server implementation immediately stores registration leaves in seperate page documents, the client must perform more HTTP requests to get the information it needs.</span></span>

<span data-ttu-id="f3796-157">Nuget.org 使用如下所示的试探法： 如果有 128 个或以上版本的包，则会将叶分成大小 64 的页面。</span><span class="sxs-lookup"><span data-stu-id="f3796-157">The heuristic that nuget.org uses is as follows: if there are 128 or more versions of a package, break the leaves into pages of size 64.</span></span> <span data-ttu-id="f3796-158">如果有不超过 128 个版本，所有内联都离开到注册的索引。</span><span class="sxs-lookup"><span data-stu-id="f3796-158">If there are less than 128 versions, inline all leaves into the registration index.</span></span>

    GET {@id}/{LOWER_ID}/index.json

### <a name="request-parameters"></a><span data-ttu-id="f3796-159">请求参数</span><span class="sxs-lookup"><span data-stu-id="f3796-159">Request parameters</span></span>

<span data-ttu-id="f3796-160">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-160">Name</span></span>     | <span data-ttu-id="f3796-161">内</span><span class="sxs-lookup"><span data-stu-id="f3796-161">In</span></span>     | <span data-ttu-id="f3796-162">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-162">Type</span></span>    | <span data-ttu-id="f3796-163">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-163">Required</span></span> | <span data-ttu-id="f3796-164">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-164">Notes</span></span>
-------- | ------ | ------- | -------- | -----
<span data-ttu-id="f3796-165">LOWER_ID</span><span class="sxs-lookup"><span data-stu-id="f3796-165">LOWER_ID</span></span> | <span data-ttu-id="f3796-166">URL</span><span class="sxs-lookup"><span data-stu-id="f3796-166">URL</span></span>    | <span data-ttu-id="f3796-167">string</span><span class="sxs-lookup"><span data-stu-id="f3796-167">string</span></span>  | <span data-ttu-id="f3796-168">是</span><span class="sxs-lookup"><span data-stu-id="f3796-168">yes</span></span>      | <span data-ttu-id="f3796-169">包 ID 小写</span><span class="sxs-lookup"><span data-stu-id="f3796-169">The package ID, lowercased</span></span>

<span data-ttu-id="f3796-170">`LOWER_ID`值是小写使用通过实施的规则的所需的包 ID。NET 的[ `System.String.ToLowerInvariant()` ](/dotnet/api/system.string.tolowerinvariant?view=netstandard-2.0#System_String_ToLowerInvariant)方法。</span><span class="sxs-lookup"><span data-stu-id="f3796-170">The `LOWER_ID` value is the desired package ID lowercased using the rules implemented by .NET's [`System.String.ToLowerInvariant()`](/dotnet/api/system.string.tolowerinvariant?view=netstandard-2.0#System_String_ToLowerInvariant) method.</span></span>

### <a name="response"></a><span data-ttu-id="f3796-171">响应</span><span class="sxs-lookup"><span data-stu-id="f3796-171">Response</span></span>

<span data-ttu-id="f3796-172">响应是一个 JSON 文档具有一个根对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="f3796-172">The response is a JSON document which has a root object with the following properties:</span></span>

<span data-ttu-id="f3796-173">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-173">Name</span></span>  | <span data-ttu-id="f3796-174">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-174">Type</span></span>             | <span data-ttu-id="f3796-175">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-175">Required</span></span> | <span data-ttu-id="f3796-176">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-176">Notes</span></span>
----- | ---------------- | -------- | -----
<span data-ttu-id="f3796-177">count</span><span class="sxs-lookup"><span data-stu-id="f3796-177">count</span></span> | <span data-ttu-id="f3796-178">整数</span><span class="sxs-lookup"><span data-stu-id="f3796-178">integer</span></span>          | <span data-ttu-id="f3796-179">是</span><span class="sxs-lookup"><span data-stu-id="f3796-179">yes</span></span>      | <span data-ttu-id="f3796-180">在索引中的注册页面数</span><span class="sxs-lookup"><span data-stu-id="f3796-180">The number of registration pages in the index</span></span>
<span data-ttu-id="f3796-181">项</span><span class="sxs-lookup"><span data-stu-id="f3796-181">items</span></span> | <span data-ttu-id="f3796-182">对象的数组</span><span class="sxs-lookup"><span data-stu-id="f3796-182">array of objects</span></span> | <span data-ttu-id="f3796-183">是</span><span class="sxs-lookup"><span data-stu-id="f3796-183">yes</span></span>      | <span data-ttu-id="f3796-184">注册页的数组</span><span class="sxs-lookup"><span data-stu-id="f3796-184">The array of registration pages</span></span>

<span data-ttu-id="f3796-185">在该索引对象的每个项`items`数组是 JSON 对象，表示注册页。</span><span class="sxs-lookup"><span data-stu-id="f3796-185">Each item in the index object's `items` array is a JSON object representing a registration page.</span></span>

#### <a name="registration-page-object"></a><span data-ttu-id="f3796-186">注册页对象</span><span class="sxs-lookup"><span data-stu-id="f3796-186">Registration page object</span></span>

<span data-ttu-id="f3796-187">注册页对象注册索引中找到具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="f3796-187">The registration page object found in the registration index has the following properties:</span></span>

<span data-ttu-id="f3796-188">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-188">Name</span></span>   | <span data-ttu-id="f3796-189">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-189">Type</span></span>             | <span data-ttu-id="f3796-190">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-190">Required</span></span> | <span data-ttu-id="f3796-191">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-191">Notes</span></span>
------ | ---------------- | -------- | -----
@id    | <span data-ttu-id="f3796-192">string</span><span class="sxs-lookup"><span data-stu-id="f3796-192">string</span></span>           | <span data-ttu-id="f3796-193">是</span><span class="sxs-lookup"><span data-stu-id="f3796-193">yes</span></span>      | <span data-ttu-id="f3796-194">注册页面的 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-194">The URL to the registration page</span></span>
<span data-ttu-id="f3796-195">count</span><span class="sxs-lookup"><span data-stu-id="f3796-195">count</span></span>  | <span data-ttu-id="f3796-196">整数</span><span class="sxs-lookup"><span data-stu-id="f3796-196">integer</span></span>          | <span data-ttu-id="f3796-197">是</span><span class="sxs-lookup"><span data-stu-id="f3796-197">yes</span></span>      | <span data-ttu-id="f3796-198">在页面中离开注册数</span><span class="sxs-lookup"><span data-stu-id="f3796-198">The number of registration leaves in the page</span></span>
<span data-ttu-id="f3796-199">项</span><span class="sxs-lookup"><span data-stu-id="f3796-199">items</span></span>  | <span data-ttu-id="f3796-200">对象的数组</span><span class="sxs-lookup"><span data-stu-id="f3796-200">array of objects</span></span> | <span data-ttu-id="f3796-201">否</span><span class="sxs-lookup"><span data-stu-id="f3796-201">no</span></span>       | <span data-ttu-id="f3796-202">注册叶和其关联的元数据的数组</span><span class="sxs-lookup"><span data-stu-id="f3796-202">The array of registration leaves and their associate metadata</span></span>
<span data-ttu-id="f3796-203">较低</span><span class="sxs-lookup"><span data-stu-id="f3796-203">lower</span></span>  | <span data-ttu-id="f3796-204">string</span><span class="sxs-lookup"><span data-stu-id="f3796-204">string</span></span>           | <span data-ttu-id="f3796-205">是</span><span class="sxs-lookup"><span data-stu-id="f3796-205">yes</span></span>      | <span data-ttu-id="f3796-206">（含） 的页中最低的 SemVer 2.0.0 版本</span><span class="sxs-lookup"><span data-stu-id="f3796-206">The lowest SemVer 2.0.0 version in the page (inclusive)</span></span>
<span data-ttu-id="f3796-207">父级 (parent)</span><span class="sxs-lookup"><span data-stu-id="f3796-207">parent</span></span> | <span data-ttu-id="f3796-208">string</span><span class="sxs-lookup"><span data-stu-id="f3796-208">string</span></span>           | <span data-ttu-id="f3796-209">否</span><span class="sxs-lookup"><span data-stu-id="f3796-209">no</span></span>       | <span data-ttu-id="f3796-210">为注册索引 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-210">The URL to the registration index</span></span>
<span data-ttu-id="f3796-211">上限</span><span class="sxs-lookup"><span data-stu-id="f3796-211">upper</span></span>  | <span data-ttu-id="f3796-212">string</span><span class="sxs-lookup"><span data-stu-id="f3796-212">string</span></span>           | <span data-ttu-id="f3796-213">是</span><span class="sxs-lookup"><span data-stu-id="f3796-213">yes</span></span>      | <span data-ttu-id="f3796-214">（含） 的页中最高的 SemVer 2.0.0 版本</span><span class="sxs-lookup"><span data-stu-id="f3796-214">The highest SemVer 2.0.0 version in the page (inclusive)</span></span>

<span data-ttu-id="f3796-215">`lower`和`upper`时所需的元数据的特定页版本页面对象的边界很有用。</span><span class="sxs-lookup"><span data-stu-id="f3796-215">The `lower` and `upper` bounds of the page object are useful when the metadata for a specific page version is needed.</span></span>
<span data-ttu-id="f3796-216">这些边界可用来提取所需的唯一注册页。</span><span class="sxs-lookup"><span data-stu-id="f3796-216">These bounds can be used to fetch the only registration page needed.</span></span> <span data-ttu-id="f3796-217">版本字符串遵守[的 NuGet 版本规则](../reference/package-versioning.md)。</span><span class="sxs-lookup"><span data-stu-id="f3796-217">The version strings adhere to [NuGet's version rules](../reference/package-versioning.md).</span></span> <span data-ttu-id="f3796-218">版本字符串进行规范化，并且不包括生成元数据。</span><span class="sxs-lookup"><span data-stu-id="f3796-218">The version strings are normalized and do not include build metadata.</span></span> <span data-ttu-id="f3796-219">NuGet 生态系统中的所有版本的版本字符串比较是实现使用[SemVer 2.0.0's 版本优先顺序规则](http://semver.org/spec/v2.0.0.html#spec-item-11)。</span><span class="sxs-lookup"><span data-stu-id="f3796-219">As with all versions in the NuGet ecosystem, comparison of version strings is implemented using [SemVer 2.0.0's version precedence rules](http://semver.org/spec/v2.0.0.html#spec-item-11).</span></span>

<span data-ttu-id="f3796-220">`parent`注册页对象具有才会出现属性`items`属性。</span><span class="sxs-lookup"><span data-stu-id="f3796-220">The `parent` property will only appear if the registration page object has the `items` property.</span></span>

<span data-ttu-id="f3796-221">如果`items`属性不存在于注册页对象中，在指定的 URL`@id`必须可用于获取有关各个包版本的元数据。</span><span class="sxs-lookup"><span data-stu-id="f3796-221">If the `items` property is not present in the registration page object, the URL specified in the `@id` must be used to fetch metadata about individual package versions.</span></span> <span data-ttu-id="f3796-222">`items`数组有时不作为一种优化的 page 对象。</span><span class="sxs-lookup"><span data-stu-id="f3796-222">The `items` array is sometimes excluded from the page object as an optimization.</span></span> <span data-ttu-id="f3796-223">如果单个包 ID 的版本数非常大，注册索引文档将大规模和浪费只关心特定的版本或小范围的版本的客户端的过程。</span><span class="sxs-lookup"><span data-stu-id="f3796-223">If the number of versions of a single package ID is very large, then the registration index document will be massive and wasteful to process for a client that only cares about a specific version or small range of versions.</span></span>

<span data-ttu-id="f3796-224">请注意，如果`items`存在，属性，则`@id`属性不需要使用，因为所有的页面数据已在内联`items`属性。</span><span class="sxs-lookup"><span data-stu-id="f3796-224">Note that if the `items` property is present, the `@id` property need not be used, since all of the page data is already inlined in the `items` property.</span></span>

<span data-ttu-id="f3796-225">Page 对象中的每一项`items`数组，表示注册叶的 JSON 对象以及与其关联的元数据。</span><span class="sxs-lookup"><span data-stu-id="f3796-225">Each item in the page object's `items` array is a JSON object representing a registration leaf and it's associated metadata.</span></span>

#### <a name="registration-leaf-object-in-a-page"></a><span data-ttu-id="f3796-226">注册页中的叶对象</span><span class="sxs-lookup"><span data-stu-id="f3796-226">Registration leaf object in a page</span></span>

<span data-ttu-id="f3796-227">在注册页中找到的注册叶对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="f3796-227">The registration leaf object found in a registration page has the following properties:</span></span>

<span data-ttu-id="f3796-228">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-228">Name</span></span>           | <span data-ttu-id="f3796-229">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-229">Type</span></span>   | <span data-ttu-id="f3796-230">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-230">Required</span></span> | <span data-ttu-id="f3796-231">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-231">Notes</span></span>
-------------- | ------ | -------- | -----
@id            | <span data-ttu-id="f3796-232">string</span><span class="sxs-lookup"><span data-stu-id="f3796-232">string</span></span> | <span data-ttu-id="f3796-233">是</span><span class="sxs-lookup"><span data-stu-id="f3796-233">yes</span></span>      | <span data-ttu-id="f3796-234">为注册叶 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-234">The URL to the registration leaf</span></span>
<span data-ttu-id="f3796-235">catalogEntry</span><span class="sxs-lookup"><span data-stu-id="f3796-235">catalogEntry</span></span>   | <span data-ttu-id="f3796-236">object</span><span class="sxs-lookup"><span data-stu-id="f3796-236">object</span></span> | <span data-ttu-id="f3796-237">是</span><span class="sxs-lookup"><span data-stu-id="f3796-237">yes</span></span>      | <span data-ttu-id="f3796-238">包含包元数据的目录条目</span><span class="sxs-lookup"><span data-stu-id="f3796-238">The catalog entry containing the package metadata</span></span>
<span data-ttu-id="f3796-239">packageContent</span><span class="sxs-lookup"><span data-stu-id="f3796-239">packageContent</span></span> | <span data-ttu-id="f3796-240">string</span><span class="sxs-lookup"><span data-stu-id="f3796-240">string</span></span> | <span data-ttu-id="f3796-241">是</span><span class="sxs-lookup"><span data-stu-id="f3796-241">yes</span></span>      | <span data-ttu-id="f3796-242">指向包内容 (.nupkg) 的 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-242">The URL to the package content (.nupkg)</span></span>

<span data-ttu-id="f3796-243">每个注册叶对象表示单个包版本与关联的数据。</span><span class="sxs-lookup"><span data-stu-id="f3796-243">Each registration leaf object represents data associated with a single package version.</span></span>

#### <a name="catalog-entry"></a><span data-ttu-id="f3796-244">目录条目</span><span class="sxs-lookup"><span data-stu-id="f3796-244">Catalog entry</span></span>

<span data-ttu-id="f3796-245">`catalogEntry`注册叶对象中的属性具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="f3796-245">The `catalogEntry` property in the registration leaf object has the following properties:</span></span>

<span data-ttu-id="f3796-246">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-246">Name</span></span>                     | <span data-ttu-id="f3796-247">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-247">Type</span></span>                       | <span data-ttu-id="f3796-248">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-248">Required</span></span> | <span data-ttu-id="f3796-249">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-249">Notes</span></span>
------------------------ | -------------------------- | -------- | -----
@id                      | <span data-ttu-id="f3796-250">string</span><span class="sxs-lookup"><span data-stu-id="f3796-250">string</span></span>                     | <span data-ttu-id="f3796-251">是</span><span class="sxs-lookup"><span data-stu-id="f3796-251">yes</span></span>      | <span data-ttu-id="f3796-252">指向用于生成此对象的文档的 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-252">The URL to document used to produce this object</span></span>
<span data-ttu-id="f3796-253">作者</span><span class="sxs-lookup"><span data-stu-id="f3796-253">authors</span></span>                  | <span data-ttu-id="f3796-254">字符串或字符串数组</span><span class="sxs-lookup"><span data-stu-id="f3796-254">string or array of strings</span></span> | <span data-ttu-id="f3796-255">否</span><span class="sxs-lookup"><span data-stu-id="f3796-255">no</span></span>       | 
<span data-ttu-id="f3796-256">dependencyGroups</span><span class="sxs-lookup"><span data-stu-id="f3796-256">dependencyGroups</span></span>         | <span data-ttu-id="f3796-257">对象的数组</span><span class="sxs-lookup"><span data-stu-id="f3796-257">array of objects</span></span>           | <span data-ttu-id="f3796-258">否</span><span class="sxs-lookup"><span data-stu-id="f3796-258">no</span></span>       | <span data-ttu-id="f3796-259">按目标框架的包依赖项</span><span class="sxs-lookup"><span data-stu-id="f3796-259">The dependencies of the package, grouped by target framework</span></span>
<span data-ttu-id="f3796-260">不推荐使用</span><span class="sxs-lookup"><span data-stu-id="f3796-260">deprecation</span></span>              | <span data-ttu-id="f3796-261">object</span><span class="sxs-lookup"><span data-stu-id="f3796-261">object</span></span>                     | <span data-ttu-id="f3796-262">否</span><span class="sxs-lookup"><span data-stu-id="f3796-262">no</span></span>       | <span data-ttu-id="f3796-263">不推荐使用与包关联</span><span class="sxs-lookup"><span data-stu-id="f3796-263">The deprecation associated with the package</span></span>
<span data-ttu-id="f3796-264">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-264">description</span></span>              | <span data-ttu-id="f3796-265">string</span><span class="sxs-lookup"><span data-stu-id="f3796-265">string</span></span>                     | <span data-ttu-id="f3796-266">否</span><span class="sxs-lookup"><span data-stu-id="f3796-266">no</span></span>       | 
<span data-ttu-id="f3796-267">iconUrl</span><span class="sxs-lookup"><span data-stu-id="f3796-267">iconUrl</span></span>                  | <span data-ttu-id="f3796-268">string</span><span class="sxs-lookup"><span data-stu-id="f3796-268">string</span></span>                     | <span data-ttu-id="f3796-269">否</span><span class="sxs-lookup"><span data-stu-id="f3796-269">no</span></span>       | 
<span data-ttu-id="f3796-270">id</span><span class="sxs-lookup"><span data-stu-id="f3796-270">id</span></span>                       | <span data-ttu-id="f3796-271">string</span><span class="sxs-lookup"><span data-stu-id="f3796-271">string</span></span>                     | <span data-ttu-id="f3796-272">是</span><span class="sxs-lookup"><span data-stu-id="f3796-272">yes</span></span>      | <span data-ttu-id="f3796-273">包的 ID</span><span class="sxs-lookup"><span data-stu-id="f3796-273">The ID of the package</span></span>
<span data-ttu-id="f3796-274">licenseUrl</span><span class="sxs-lookup"><span data-stu-id="f3796-274">licenseUrl</span></span>               | <span data-ttu-id="f3796-275">string</span><span class="sxs-lookup"><span data-stu-id="f3796-275">string</span></span>                     | <span data-ttu-id="f3796-276">否</span><span class="sxs-lookup"><span data-stu-id="f3796-276">no</span></span>       |
<span data-ttu-id="f3796-277">licenseExpression</span><span class="sxs-lookup"><span data-stu-id="f3796-277">licenseExpression</span></span>        | <span data-ttu-id="f3796-278">string</span><span class="sxs-lookup"><span data-stu-id="f3796-278">string</span></span>                     | <span data-ttu-id="f3796-279">否</span><span class="sxs-lookup"><span data-stu-id="f3796-279">no</span></span>       | 
<span data-ttu-id="f3796-280">列出</span><span class="sxs-lookup"><span data-stu-id="f3796-280">listed</span></span>                   | <span data-ttu-id="f3796-281">boolean</span><span class="sxs-lookup"><span data-stu-id="f3796-281">boolean</span></span>                    | <span data-ttu-id="f3796-282">否</span><span class="sxs-lookup"><span data-stu-id="f3796-282">no</span></span>       | <span data-ttu-id="f3796-283">应被视为列出如果不存在</span><span class="sxs-lookup"><span data-stu-id="f3796-283">Should be considered as listed if absent</span></span>
<span data-ttu-id="f3796-284">minClientVersion</span><span class="sxs-lookup"><span data-stu-id="f3796-284">minClientVersion</span></span>         | <span data-ttu-id="f3796-285">string</span><span class="sxs-lookup"><span data-stu-id="f3796-285">string</span></span>                     | <span data-ttu-id="f3796-286">否</span><span class="sxs-lookup"><span data-stu-id="f3796-286">no</span></span>       | 
<span data-ttu-id="f3796-287">projectUrl</span><span class="sxs-lookup"><span data-stu-id="f3796-287">projectUrl</span></span>               | <span data-ttu-id="f3796-288">string</span><span class="sxs-lookup"><span data-stu-id="f3796-288">string</span></span>                     | <span data-ttu-id="f3796-289">否</span><span class="sxs-lookup"><span data-stu-id="f3796-289">no</span></span>       | 
<span data-ttu-id="f3796-290">已发布</span><span class="sxs-lookup"><span data-stu-id="f3796-290">published</span></span>                | <span data-ttu-id="f3796-291">string</span><span class="sxs-lookup"><span data-stu-id="f3796-291">string</span></span>                     | <span data-ttu-id="f3796-292">否</span><span class="sxs-lookup"><span data-stu-id="f3796-292">no</span></span>       | <span data-ttu-id="f3796-293">一个包含已发布包时的 ISO 8601 时间戳的字符串</span><span class="sxs-lookup"><span data-stu-id="f3796-293">A string containing a ISO 8601 timestamp of when the package was published</span></span>
<span data-ttu-id="f3796-294">requireLicenseAcceptance</span><span class="sxs-lookup"><span data-stu-id="f3796-294">requireLicenseAcceptance</span></span> | <span data-ttu-id="f3796-295">boolean</span><span class="sxs-lookup"><span data-stu-id="f3796-295">boolean</span></span>                    | <span data-ttu-id="f3796-296">否</span><span class="sxs-lookup"><span data-stu-id="f3796-296">no</span></span>       | 
<span data-ttu-id="f3796-297">摘要</span><span class="sxs-lookup"><span data-stu-id="f3796-297">summary</span></span>                  | <span data-ttu-id="f3796-298">string</span><span class="sxs-lookup"><span data-stu-id="f3796-298">string</span></span>                     | <span data-ttu-id="f3796-299">否</span><span class="sxs-lookup"><span data-stu-id="f3796-299">no</span></span>       | 
<span data-ttu-id="f3796-300">标记</span><span class="sxs-lookup"><span data-stu-id="f3796-300">tags</span></span>                     | <span data-ttu-id="f3796-301">字符串或字符串数组</span><span class="sxs-lookup"><span data-stu-id="f3796-301">string or array of string</span></span>  | <span data-ttu-id="f3796-302">否</span><span class="sxs-lookup"><span data-stu-id="f3796-302">no</span></span>       | 
<span data-ttu-id="f3796-303">标题</span><span class="sxs-lookup"><span data-stu-id="f3796-303">title</span></span>                    | <span data-ttu-id="f3796-304">string</span><span class="sxs-lookup"><span data-stu-id="f3796-304">string</span></span>                     | <span data-ttu-id="f3796-305">否</span><span class="sxs-lookup"><span data-stu-id="f3796-305">no</span></span>       | 
<span data-ttu-id="f3796-306">version</span><span class="sxs-lookup"><span data-stu-id="f3796-306">version</span></span>                  | <span data-ttu-id="f3796-307">string</span><span class="sxs-lookup"><span data-stu-id="f3796-307">string</span></span>                     | <span data-ttu-id="f3796-308">是</span><span class="sxs-lookup"><span data-stu-id="f3796-308">yes</span></span>      | <span data-ttu-id="f3796-309">规范化后的完整版本字符串</span><span class="sxs-lookup"><span data-stu-id="f3796-309">The full version string after normalization</span></span>

<span data-ttu-id="f3796-310">包`version`属性是在执行规范化后的完整版本字符串。</span><span class="sxs-lookup"><span data-stu-id="f3796-310">The package `version` property is the full version string after normalization.</span></span> <span data-ttu-id="f3796-311">这意味着，SemVer 2.0.0 生成数据可以包含此处。</span><span class="sxs-lookup"><span data-stu-id="f3796-311">This means that SemVer 2.0.0 build data can be included here.</span></span>

<span data-ttu-id="f3796-312">`dependencyGroups`属性是一个表示按目标框架的包的依赖项的对象的数组。</span><span class="sxs-lookup"><span data-stu-id="f3796-312">The `dependencyGroups` property is an array of objects representing the dependencies of the package, grouped by target framework.</span></span> <span data-ttu-id="f3796-313">如果包有没有依赖关系`dependencyGroups`缺少属性，一个空数组或`dependencies`所有组的属性为空或缺失。</span><span class="sxs-lookup"><span data-stu-id="f3796-313">If the package has no dependencies, the `dependencyGroups` property is missing, an empty array, or the `dependencies` property of all groups is empty or missing.</span></span>

<span data-ttu-id="f3796-314">值`licenseExpression`属性符合[NuGet 许可证表达式语法](https://docs.microsoft.com/en-us/nuget/reference/nuspec#license)。</span><span class="sxs-lookup"><span data-stu-id="f3796-314">The value of the `licenseExpression` property complies with [NuGet license expression syntax](https://docs.microsoft.com/en-us/nuget/reference/nuspec#license).</span></span>

#### <a name="package-dependency-group"></a><span data-ttu-id="f3796-315">包依赖关系组</span><span class="sxs-lookup"><span data-stu-id="f3796-315">Package dependency group</span></span>

<span data-ttu-id="f3796-316">每个依赖关系组对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="f3796-316">Each dependency group object has the following properties:</span></span>

<span data-ttu-id="f3796-317">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-317">Name</span></span>            | <span data-ttu-id="f3796-318">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-318">Type</span></span>             | <span data-ttu-id="f3796-319">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-319">Required</span></span> | <span data-ttu-id="f3796-320">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-320">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="f3796-321">targetFramework</span><span class="sxs-lookup"><span data-stu-id="f3796-321">targetFramework</span></span> | <span data-ttu-id="f3796-322">string</span><span class="sxs-lookup"><span data-stu-id="f3796-322">string</span></span>           | <span data-ttu-id="f3796-323">否</span><span class="sxs-lookup"><span data-stu-id="f3796-323">no</span></span>       | <span data-ttu-id="f3796-324">这些依赖关系都适用于目标框架</span><span class="sxs-lookup"><span data-stu-id="f3796-324">The target framework that these dependencies are applicable to</span></span>
<span data-ttu-id="f3796-325">依赖项</span><span class="sxs-lookup"><span data-stu-id="f3796-325">dependencies</span></span>    | <span data-ttu-id="f3796-326">对象的数组</span><span class="sxs-lookup"><span data-stu-id="f3796-326">array of objects</span></span> | <span data-ttu-id="f3796-327">否</span><span class="sxs-lookup"><span data-stu-id="f3796-327">no</span></span>       |

<span data-ttu-id="f3796-328">`targetFramework`字符串使用格式由 NuGet 的.NET 库实现[NuGet.Frameworks](https://www.nuget.org/packages/NuGet.Frameworks/)。</span><span class="sxs-lookup"><span data-stu-id="f3796-328">The `targetFramework` string uses the format implemented by NuGet's .NET library [NuGet.Frameworks](https://www.nuget.org/packages/NuGet.Frameworks/).</span></span> <span data-ttu-id="f3796-329">如果没有`targetFramework`指定，则依赖关系组适用于所有目标框架。</span><span class="sxs-lookup"><span data-stu-id="f3796-329">If no `targetFramework` is specified, the dependency group applies to all target frameworks.</span></span>

<span data-ttu-id="f3796-330">`dependencies`属性是对象的数组，每个元素表示的当前包的包依赖项。</span><span class="sxs-lookup"><span data-stu-id="f3796-330">The `dependencies` property is an array of objects, each representing a package dependency of the current package.</span></span>

#### <a name="package-dependency"></a><span data-ttu-id="f3796-331">包依赖项</span><span class="sxs-lookup"><span data-stu-id="f3796-331">Package dependency</span></span>

<span data-ttu-id="f3796-332">每个包依赖项具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="f3796-332">Each package dependency has the following properties:</span></span>

<span data-ttu-id="f3796-333">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-333">Name</span></span>         | <span data-ttu-id="f3796-334">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-334">Type</span></span>   | <span data-ttu-id="f3796-335">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-335">Required</span></span> | <span data-ttu-id="f3796-336">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-336">Notes</span></span>
------------ | ------ | -------- | -----
<span data-ttu-id="f3796-337">id</span><span class="sxs-lookup"><span data-stu-id="f3796-337">id</span></span>           | <span data-ttu-id="f3796-338">string</span><span class="sxs-lookup"><span data-stu-id="f3796-338">string</span></span> | <span data-ttu-id="f3796-339">是</span><span class="sxs-lookup"><span data-stu-id="f3796-339">yes</span></span>      | <span data-ttu-id="f3796-340">包依赖项的 ID</span><span class="sxs-lookup"><span data-stu-id="f3796-340">The ID of the package dependency</span></span>
<span data-ttu-id="f3796-341">range</span><span class="sxs-lookup"><span data-stu-id="f3796-341">range</span></span>        | <span data-ttu-id="f3796-342">object</span><span class="sxs-lookup"><span data-stu-id="f3796-342">object</span></span> | <span data-ttu-id="f3796-343">否</span><span class="sxs-lookup"><span data-stu-id="f3796-343">no</span></span>       | <span data-ttu-id="f3796-344">允许[版本范围](../reference/package-versioning.md#version-ranges-and-wildcards)依赖关系</span><span class="sxs-lookup"><span data-stu-id="f3796-344">The allowed [version range](../reference/package-versioning.md#version-ranges-and-wildcards) of the dependency</span></span>
<span data-ttu-id="f3796-345">注册</span><span class="sxs-lookup"><span data-stu-id="f3796-345">registration</span></span> | <span data-ttu-id="f3796-346">string</span><span class="sxs-lookup"><span data-stu-id="f3796-346">string</span></span> | <span data-ttu-id="f3796-347">否</span><span class="sxs-lookup"><span data-stu-id="f3796-347">no</span></span>       | <span data-ttu-id="f3796-348">为此依赖项的注册索引到 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-348">The URL to the registration index for this dependency</span></span>

<span data-ttu-id="f3796-349">如果`range`属性被排除或者为空字符串，客户端应默认为版本范围`(, )`。</span><span class="sxs-lookup"><span data-stu-id="f3796-349">If the `range` property is excluded or an empty string, the client should default to the version range `(, )`.</span></span> <span data-ttu-id="f3796-350">也就是说，允许任何版本的依赖项。</span><span class="sxs-lookup"><span data-stu-id="f3796-350">That is, any version of the dependency is allowed.</span></span>

#### <a name="package-deprecation"></a><span data-ttu-id="f3796-351">包不推荐使用</span><span class="sxs-lookup"><span data-stu-id="f3796-351">Package deprecation</span></span>

<span data-ttu-id="f3796-352">每个包不推荐使用具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="f3796-352">Each package deprecation has the following properties:</span></span>

<span data-ttu-id="f3796-353">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-353">Name</span></span>             | <span data-ttu-id="f3796-354">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-354">Type</span></span>             | <span data-ttu-id="f3796-355">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-355">Required</span></span> | <span data-ttu-id="f3796-356">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-356">Notes</span></span>
---------------- | ---------------- | -------- | -----
<span data-ttu-id="f3796-357">原因</span><span class="sxs-lookup"><span data-stu-id="f3796-357">reasons</span></span>          | <span data-ttu-id="f3796-358">字符串数组</span><span class="sxs-lookup"><span data-stu-id="f3796-358">array of strings</span></span> | <span data-ttu-id="f3796-359">是</span><span class="sxs-lookup"><span data-stu-id="f3796-359">yes</span></span>      | <span data-ttu-id="f3796-360">包已被否决，为什么原因</span><span class="sxs-lookup"><span data-stu-id="f3796-360">The reasons why the package was deprecated</span></span>
<span data-ttu-id="f3796-361">消息</span><span class="sxs-lookup"><span data-stu-id="f3796-361">message</span></span>          | <span data-ttu-id="f3796-362">string</span><span class="sxs-lookup"><span data-stu-id="f3796-362">string</span></span>           | <span data-ttu-id="f3796-363">否</span><span class="sxs-lookup"><span data-stu-id="f3796-363">no</span></span>       | <span data-ttu-id="f3796-364">有关此不推荐使用的其他详细信息</span><span class="sxs-lookup"><span data-stu-id="f3796-364">The additional details about this deprecation</span></span>
<span data-ttu-id="f3796-365">alternatePackage</span><span class="sxs-lookup"><span data-stu-id="f3796-365">alternatePackage</span></span> | <span data-ttu-id="f3796-366">object</span><span class="sxs-lookup"><span data-stu-id="f3796-366">object</span></span>           | <span data-ttu-id="f3796-367">否</span><span class="sxs-lookup"><span data-stu-id="f3796-367">no</span></span>       | <span data-ttu-id="f3796-368">应改为使用的包依赖关系</span><span class="sxs-lookup"><span data-stu-id="f3796-368">The package dependency that should be used instead</span></span>

<span data-ttu-id="f3796-369">`reasons`属性必须包含至少一个字符串，应仅包含下表中的字符串：</span><span class="sxs-lookup"><span data-stu-id="f3796-369">The `reasons` property must contain at least one string and should only contains strings from the following table:</span></span>

<span data-ttu-id="f3796-370">原因</span><span class="sxs-lookup"><span data-stu-id="f3796-370">Reason</span></span>       | <span data-ttu-id="f3796-371">描述</span><span class="sxs-lookup"><span data-stu-id="f3796-371">Description</span></span>             
------------ | -----------
<span data-ttu-id="f3796-372">遗留</span><span class="sxs-lookup"><span data-stu-id="f3796-372">Legacy</span></span>       | <span data-ttu-id="f3796-373">不再维护包</span><span class="sxs-lookup"><span data-stu-id="f3796-373">The package is no longer maintained</span></span>
<span data-ttu-id="f3796-374">CriticalBugs</span><span class="sxs-lookup"><span data-stu-id="f3796-374">CriticalBugs</span></span> | <span data-ttu-id="f3796-375">包具有使其不适合使用情况的 bug</span><span class="sxs-lookup"><span data-stu-id="f3796-375">The package has bugs which make it unsuitable for usage</span></span>
<span data-ttu-id="f3796-376">其他</span><span class="sxs-lookup"><span data-stu-id="f3796-376">Other</span></span>        | <span data-ttu-id="f3796-377">由于不在此列表原因弃用包</span><span class="sxs-lookup"><span data-stu-id="f3796-377">The package is deprecated due to a reason not on this list</span></span>

<span data-ttu-id="f3796-378">如果`reasons`属性包含不是来自一组已知的字符串，应忽略它们。</span><span class="sxs-lookup"><span data-stu-id="f3796-378">If the `reasons` property contains strings that are not from the known set, they should be ignored.</span></span> <span data-ttu-id="f3796-379">字符串不区分大小写，因此`legacy`应视为相同`Legacy`。</span><span class="sxs-lookup"><span data-stu-id="f3796-379">The strings are case-insensitive, so `legacy` should be treated the same as `Legacy`.</span></span> <span data-ttu-id="f3796-380">因此这些字符串可以任何任意顺序排列，并在阵列上的没有排序限制。</span><span class="sxs-lookup"><span data-stu-id="f3796-380">There is no ordering restriction on the array, so the strings can arranged in any arbitrary order.</span></span> <span data-ttu-id="f3796-381">此外，如果属性包含不是来自一组已知的字符串，它应被视为如同它仅包含"其他"字符串。</span><span class="sxs-lookup"><span data-stu-id="f3796-381">Additionally, if the property contains only strings that are not from the known set, it should be treated as if it only contained the "Other" string.</span></span>

### <a name="sample-request"></a><span data-ttu-id="f3796-382">示例请求</span><span class="sxs-lookup"><span data-stu-id="f3796-382">Sample request</span></span>

    GET https://api.nuget.org/v3/registration3/nuget.server.core/index.json

### <a name="sample-response"></a><span data-ttu-id="f3796-383">示例响应</span><span class="sxs-lookup"><span data-stu-id="f3796-383">Sample response</span></span>

[!code-JSON [package-registration-index.json](./_data/package-registration-index.json)]

<span data-ttu-id="f3796-384">在此特定情况下注册索引都有内联的注册页，因此没有额外的请求所需提取单个包版本有关的元数据。</span><span class="sxs-lookup"><span data-stu-id="f3796-384">In this particular case, the registration index has the registration page inlined so no extra requests are needed to fetch metadata about individual package versions.</span></span>

## <a name="registration-page"></a><span data-ttu-id="f3796-385">注册页</span><span class="sxs-lookup"><span data-stu-id="f3796-385">Registration page</span></span>

<span data-ttu-id="f3796-386">注册页包含注册叶。</span><span class="sxs-lookup"><span data-stu-id="f3796-386">The registration page contains registration leaves.</span></span> <span data-ttu-id="f3796-387">要提取的注册页的 URL 由`@id`中的属性[注册页对象](#registration-page-object)上面所述。</span><span class="sxs-lookup"><span data-stu-id="f3796-387">The URL to fetch a registration page is determined by the `@id` property in the [registration page object](#registration-page-object) mentioned above.</span></span>

<span data-ttu-id="f3796-388">当`items`数组未提供注册索引中，HTTP GET 请求的`@id`值将返回一个 JSON 文档具有作为其根对象。</span><span class="sxs-lookup"><span data-stu-id="f3796-388">When the `items` array is not provided in the registration index, an HTTP GET request of the `@id` value will return a JSON document which has an object as its root.</span></span> <span data-ttu-id="f3796-389">该对象具有以下属性：</span><span class="sxs-lookup"><span data-stu-id="f3796-389">The object has the following properties:</span></span>

<span data-ttu-id="f3796-390">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-390">Name</span></span>   | <span data-ttu-id="f3796-391">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-391">Type</span></span>             | <span data-ttu-id="f3796-392">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-392">Required</span></span> | <span data-ttu-id="f3796-393">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-393">Notes</span></span>
------ | ---------------- | -------- | -----
@id    | <span data-ttu-id="f3796-394">string</span><span class="sxs-lookup"><span data-stu-id="f3796-394">string</span></span>           | <span data-ttu-id="f3796-395">是</span><span class="sxs-lookup"><span data-stu-id="f3796-395">yes</span></span>      | <span data-ttu-id="f3796-396">注册页面的 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-396">The URL to the registration page</span></span>
<span data-ttu-id="f3796-397">count</span><span class="sxs-lookup"><span data-stu-id="f3796-397">count</span></span>  | <span data-ttu-id="f3796-398">整数</span><span class="sxs-lookup"><span data-stu-id="f3796-398">integer</span></span>          | <span data-ttu-id="f3796-399">是</span><span class="sxs-lookup"><span data-stu-id="f3796-399">yes</span></span>      | <span data-ttu-id="f3796-400">在页面中离开注册数</span><span class="sxs-lookup"><span data-stu-id="f3796-400">The number of registration leaves in the page</span></span>
<span data-ttu-id="f3796-401">项</span><span class="sxs-lookup"><span data-stu-id="f3796-401">items</span></span>  | <span data-ttu-id="f3796-402">对象的数组</span><span class="sxs-lookup"><span data-stu-id="f3796-402">array of objects</span></span> | <span data-ttu-id="f3796-403">是</span><span class="sxs-lookup"><span data-stu-id="f3796-403">yes</span></span>      | <span data-ttu-id="f3796-404">注册叶和其关联的元数据的数组</span><span class="sxs-lookup"><span data-stu-id="f3796-404">The array of registration leaves and their associate metadata</span></span>
<span data-ttu-id="f3796-405">较低</span><span class="sxs-lookup"><span data-stu-id="f3796-405">lower</span></span>  | <span data-ttu-id="f3796-406">string</span><span class="sxs-lookup"><span data-stu-id="f3796-406">string</span></span>           | <span data-ttu-id="f3796-407">是</span><span class="sxs-lookup"><span data-stu-id="f3796-407">yes</span></span>      | <span data-ttu-id="f3796-408">（含） 的页中最低的 SemVer 2.0.0 版本</span><span class="sxs-lookup"><span data-stu-id="f3796-408">The lowest SemVer 2.0.0 version in the page (inclusive)</span></span>
<span data-ttu-id="f3796-409">父级 (parent)</span><span class="sxs-lookup"><span data-stu-id="f3796-409">parent</span></span> | <span data-ttu-id="f3796-410">string</span><span class="sxs-lookup"><span data-stu-id="f3796-410">string</span></span>           | <span data-ttu-id="f3796-411">是</span><span class="sxs-lookup"><span data-stu-id="f3796-411">yes</span></span>      | <span data-ttu-id="f3796-412">为注册索引 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-412">The URL to the registration index</span></span>
<span data-ttu-id="f3796-413">上限</span><span class="sxs-lookup"><span data-stu-id="f3796-413">upper</span></span>  | <span data-ttu-id="f3796-414">string</span><span class="sxs-lookup"><span data-stu-id="f3796-414">string</span></span>           | <span data-ttu-id="f3796-415">是</span><span class="sxs-lookup"><span data-stu-id="f3796-415">yes</span></span>      | <span data-ttu-id="f3796-416">（含） 的页中最高的 SemVer 2.0.0 版本</span><span class="sxs-lookup"><span data-stu-id="f3796-416">The highest SemVer 2.0.0 version in the page (inclusive)</span></span>

<span data-ttu-id="f3796-417">注册叶对象的形状是与注册索引中的相同[上面](#registration-leaf-object-in-a-page)。</span><span class="sxs-lookup"><span data-stu-id="f3796-417">The shape of the registration leaf objects is the same as in the registration index [above](#registration-leaf-object-in-a-page).</span></span>

## <a name="sample-request"></a><span data-ttu-id="f3796-418">示例请求</span><span class="sxs-lookup"><span data-stu-id="f3796-418">Sample request</span></span>

    GET https://api.nuget.org/v3/registration3/ravendb.client/page/1.0.531/1.0.729-unstable.json

## <a name="sample-response"></a><span data-ttu-id="f3796-419">示例响应</span><span class="sxs-lookup"><span data-stu-id="f3796-419">Sample response</span></span>

[!code-JSON [package-registration-page.json](./_data/package-registration-page.json)]

## <a name="registration-leaf"></a><span data-ttu-id="f3796-420">注册叶</span><span class="sxs-lookup"><span data-stu-id="f3796-420">Registration leaf</span></span>

<span data-ttu-id="f3796-421">注册叶包含有关特定包 ID 和版本信息。</span><span class="sxs-lookup"><span data-stu-id="f3796-421">The registration leaf contains information about a specific package ID and version.</span></span> <span data-ttu-id="f3796-422">有关特定版本的元数据可能不可用本文档中。</span><span class="sxs-lookup"><span data-stu-id="f3796-422">The metadata about the specific version may not be available in this document.</span></span> <span data-ttu-id="f3796-423">包元数据应从中提取[注册索引](#registration-index)或[注册页](#registration-page)（这发现使用注册索引）。</span><span class="sxs-lookup"><span data-stu-id="f3796-423">Package metadata should be fetched from the [registration index](#registration-index) or the [registration page](#registration-page) (which is discovered using the registration index).</span></span>

<span data-ttu-id="f3796-424">从获取的 URL 来提取注册叶`@id`注册索引或注册页中的注册叶对象的属性。</span><span class="sxs-lookup"><span data-stu-id="f3796-424">The URL to fetch a registration leaf is obtained from the `@id` property of a registration leaf object in either a registration index or registration page.</span></span>

<span data-ttu-id="f3796-425">注册叶是与具有以下属性的根对象的 JSON 文档：</span><span class="sxs-lookup"><span data-stu-id="f3796-425">The registration leaf is a JSON document with a root object with the following properties:</span></span>

<span data-ttu-id="f3796-426">名称</span><span class="sxs-lookup"><span data-stu-id="f3796-426">Name</span></span>           | <span data-ttu-id="f3796-427">类型</span><span class="sxs-lookup"><span data-stu-id="f3796-427">Type</span></span>    | <span data-ttu-id="f3796-428">必需</span><span class="sxs-lookup"><span data-stu-id="f3796-428">Required</span></span> | <span data-ttu-id="f3796-429">说明</span><span class="sxs-lookup"><span data-stu-id="f3796-429">Notes</span></span>
-------------- | ------- | -------- | -----
@id            | <span data-ttu-id="f3796-430">string</span><span class="sxs-lookup"><span data-stu-id="f3796-430">string</span></span>  | <span data-ttu-id="f3796-431">是</span><span class="sxs-lookup"><span data-stu-id="f3796-431">yes</span></span>      | <span data-ttu-id="f3796-432">为注册叶 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-432">The URL to the registration leaf</span></span>
<span data-ttu-id="f3796-433">catalogEntry</span><span class="sxs-lookup"><span data-stu-id="f3796-433">catalogEntry</span></span>   | <span data-ttu-id="f3796-434">string</span><span class="sxs-lookup"><span data-stu-id="f3796-434">string</span></span>  | <span data-ttu-id="f3796-435">否</span><span class="sxs-lookup"><span data-stu-id="f3796-435">no</span></span>       | <span data-ttu-id="f3796-436">生成这些叶的目录项 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-436">The URL to the catalog entry that produced these leaf</span></span>
<span data-ttu-id="f3796-437">列出</span><span class="sxs-lookup"><span data-stu-id="f3796-437">listed</span></span>         | <span data-ttu-id="f3796-438">boolean</span><span class="sxs-lookup"><span data-stu-id="f3796-438">boolean</span></span> | <span data-ttu-id="f3796-439">否</span><span class="sxs-lookup"><span data-stu-id="f3796-439">no</span></span>       | <span data-ttu-id="f3796-440">应被视为列出如果不存在</span><span class="sxs-lookup"><span data-stu-id="f3796-440">Should be considered as listed if absent</span></span>
<span data-ttu-id="f3796-441">packageContent</span><span class="sxs-lookup"><span data-stu-id="f3796-441">packageContent</span></span> | <span data-ttu-id="f3796-442">string</span><span class="sxs-lookup"><span data-stu-id="f3796-442">string</span></span>  | <span data-ttu-id="f3796-443">否</span><span class="sxs-lookup"><span data-stu-id="f3796-443">no</span></span>       | <span data-ttu-id="f3796-444">指向包内容 (.nupkg) 的 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-444">The URL to the package content (.nupkg)</span></span>
<span data-ttu-id="f3796-445">已发布</span><span class="sxs-lookup"><span data-stu-id="f3796-445">published</span></span>      | <span data-ttu-id="f3796-446">string</span><span class="sxs-lookup"><span data-stu-id="f3796-446">string</span></span>  | <span data-ttu-id="f3796-447">否</span><span class="sxs-lookup"><span data-stu-id="f3796-447">no</span></span>       | <span data-ttu-id="f3796-448">一个包含已发布包时的 ISO 8601 时间戳的字符串</span><span class="sxs-lookup"><span data-stu-id="f3796-448">A string containing a ISO 8601 timestamp of when the package was published</span></span>
<span data-ttu-id="f3796-449">注册</span><span class="sxs-lookup"><span data-stu-id="f3796-449">registration</span></span>   | <span data-ttu-id="f3796-450">string</span><span class="sxs-lookup"><span data-stu-id="f3796-450">string</span></span>  | <span data-ttu-id="f3796-451">否</span><span class="sxs-lookup"><span data-stu-id="f3796-451">no</span></span>       | <span data-ttu-id="f3796-452">为注册索引 URL</span><span class="sxs-lookup"><span data-stu-id="f3796-452">The URL to the registration index</span></span>

> [!Note]
> <span data-ttu-id="f3796-453">在 nuget.org 中，`published`值设置为当包很未列出的 1900 年。</span><span class="sxs-lookup"><span data-stu-id="f3796-453">On nuget.org, the `published` value is set to year 1900 when the package is unlisted.</span></span>

### <a name="sample-request"></a><span data-ttu-id="f3796-454">示例请求</span><span class="sxs-lookup"><span data-stu-id="f3796-454">Sample request</span></span>

    GET https://api.nuget.org/v3/registration3/nuget.versioning/4.3.0.json

### <a name="sample-response"></a><span data-ttu-id="f3796-455">示例响应</span><span class="sxs-lookup"><span data-stu-id="f3796-455">Sample response</span></span>

[!code-JSON [package-registration-leaf.json](./_data/package-registration-leaf.json)]
